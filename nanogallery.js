(function(){var a=this,b=function(){"use strict";function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j,k,m=f>a?0:(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(j=h[i],k="function"==typeof j?j:l[j],b[i]=g(c[i],d[i],k,m));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k,l,m){s=b+c+d,t=Math.min(m||r(),s),u=t>=s,v=d-(s-t),a.isPlaying()&&!u?(a._scheduleId=l(a._timeoutHandler,p),h(a,"beforeTween"),b+c>t?f(1,e,g,i,1,1,j):f(t,e,g,i,d,b+c,j),h(a,"afterTween"),k(e,a._attachment,v)):a.isPlaying()&&u&&(k(i,a._attachment,v),a.stop(!0))}function j(a,b){var d={},e=typeof b;return"string"===e||"function"===e?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n="linear",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:q;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u,v;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=d({},a.from)||this.get(),this._originalState=this.get(),this._targetState=d({},a.to)||this.get();var c=this;this._timeoutHandler=function(){i(c,c._timestamp,c._delay,c._duration,c._currentState,c._originalState,c._targetState,c._easing,c._step,c._scheduleFunction)};var f=this._currentState,g=this._targetState;return e(g,f),this._easing=j(f,a.easing||n),this._filterArgs=[f,this._originalState,g,this._easing],h(this,"tweenCreated"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(a){a=Math.max(a,0);var b=r();return 0===this._timestamp+a?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,i(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},k.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(h(this,"beforeTween"),f(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),h(this,"afterTween"),h(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=i),"object"==typeof exports?module.exports=k:"function"==typeof define&&define.amd?define("ngTweenable",function(){return k}):void 0===a.NGTweenable&&(a.NGTweenable=k),k}();!function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,b>l(f))return e;if(h=i(e),1e-6>l(h))break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),b>l(f-a))return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.displayName=a,h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f,g){return b.tweenProps(e,c,a,d,1,g,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g,h){var i=b.shallowCopy({},d),j=h||0,k=b.composeEasingObject(d,g||"linear");c.set({});var l=c._filterArgs;l.length=0,l[0]=i,l[1]=d,l[2]=e,l[3]=k,b.applyFilter(c,"tweenCreated"),b.applyFilter(c,"beforeTween");var m=a(d,i,e,f,k,j);return b.applyFilter(c,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;c>d;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){var d,e=c[a],f=e.chunkNames,g=f.length,h=b[a];if("string"==typeof h){var i=h.split(" "),j=i[i.length-1];for(d=0;g>d;d++)b[f[d]]=i[d]||j}else for(d=0;g>d;d++)b[f[d]]=h;delete b[a]})}function t(b,c){a.each(c,function(a){var d=c[a],e=d.chunkNames,f=e.length,g=b[e[0]],h=typeof g;if("string"===h){for(var i="",j=0;f>j;j++)i+=" "+b[e[j]],delete b[e[j]];b[a]=i.substr(1)}else b[a]=g})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}).call(null),function(a){"function"==typeof define&&define.amd?define("jqueryNanoGallery",["jquery","ngTweenable"],a):a(jQuery,window.NGTweenable)}(function(a,b){function d(){function e(){c.scrollTimeOut&&clearTimeout(c.scrollTimeOut),c.scrollTimeOut=setTimeout(function(){if(!c.containerViewerDisplayed)return"loadData"==c.O.lazyBuild&&pb(c.$E.conTnParent,c.O.lazyBuildTreshold)&&(c.O.lazyBuild="none",l()),c.delayedAlbumIdx!=-1&&pb(c.$E.conTnParent,c.O.lazyBuildTreshold)&&V(c.delayedAlbumIdx,c.delayedSetLocationHash),void ma()},100)}function f(a){c.isShiftPressed=a.shiftKey,c.isAltPressed=a.altKey,c.isCtrlPressed=a.ctrlKey,c.isMetaPressed=a.metaKey}function g(){return{animationEngine:c.aengine,t:"test"}}function h(){var a="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";a+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/">Chrome</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/">Firefox</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',lb(a,!1)}function k(a){for(var b=document.createElement("div"),c=0;c<a.length;++c)if("undefined"!=typeof b.style[a[c]])return a[c];return null}function l(){var a=Math.max(window.screen.width,window.screen.height);void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(a*=window.devicePixelRatio);for(var b=0;b<c.tn.getHE().length;b++)switch(c.tn.getHE()[b].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":c.tn.scale=Math.max(c.tn.scale,1.5);break;case"scale120":c.tn.scale=Math.max(c.tn.scale,1.2)}switch(c.O.itemsBaseURL.length>0&&(c.O.itemsBaseURL+="/"),c.O.kind){case"":if(R(c.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),void 0!==c.O.items&&null!==c.O.items)C(),x(!1)||U(0,!1);else{var e=jQuery(c.$E.base).children("a");e.length>0?(E(e),x(!1)||U(0,!1)):lb("error: no image to process.")}break;case"flickr":for(c.O.flickrSkipOriginal||(c.flickr.photoAvailableSizes.push(1e4),c.flickr.photoAvailableSizesStr.push("o")),i=0;i<c.flickr.photoAvailableSizes.length&&(c.flickr.photoSize=i,!(a<=c.flickr.photoAvailableSizes[i]));i++);R(c.i18nTranslations.breadcrumbHome,"","","","","album","",c.O.photoset.length>0?c.O.photoset:"0","-1"),I(0,!0,-1,!1);break;case"json":R(c.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),F(0,!0,-1,!1);break;case"picasa":default:if(c.O.album.length>0){var g=c.O.album.indexOf("&authkey=");if(g>=0){var h=c.O.album.substring(0,g),j=c.O.album.substring(g);j.indexOf("Gv1sRg")==-1&&(j="&authkey=Gv1sRg"+j.substring(9));var k=R(c.i18nTranslations.breadcrumbHome,"","","","","album","",h,"-1");k.customData.authkey=j}else R(c.i18nTranslations.breadcrumbHome,"","","","","album","",c.O.album,"-1")}else R(c.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");O(0,!0,-1,!1)}jQuery(document).keyup(function(a){if(f(a),c.containerViewerDisplayed)switch(a.keyCode){case 27:fb(!0);break;case 32:case 13:Ta();break;case 38:case 39:case 33:Ya();break;case 40:case 37:case 34:$a();break;case 35:case 36:}else if(!c.containerViewerDisplayed&&c.curAlbumIdx>0&&c.O.galleryEnableKeyboard)switch(a.keyCode){case 27:U(0,"false");break;case 38:case 39:case 33:W();break;case 40:case 37:case 34:X();break;case 32:case 13:case 35:case 36:}}),jQuery(window).click(f),jQuery(window).mousemove(f),c.O.locationHash&&jQuery(window).bind("hashchange",function(){x(!0)}),c.O.galleryFullpageButton&&(c.O.RTL?c.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(c.$E.conNavB):c.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(c.$E.conNavB),c.$E.conNavBFullpage.on("click",function(a){if(c.$E.conNavBFullpage.hasClass("setFullPageButton")){if(c.containerViewerDisplayed)return;for(c.O.maxWidth>0&&jQuery(c.$E.base).css({maxWidth:""}),c.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),qb("",c.$E.base),b=0;b<c.tn.getHE().length;b++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(c.tn.getHE()[b].name)&&c.$E.base.css({overflow:"auto"});c.$E.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"}),ea()}else{if(c.containerViewerDisplayed)return;for(c.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),c.O.maxWidth>0&&jQuery(c.$E.base).css({maxWidth:c.O.maxWidth}),c.$E.base.removeClass("fullpage"),b=0;b<c.tn.getHE().length;b++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(c.tn.getHE()[b].name)&&c.$E.base.css({overflow:"visible"});m(),ea()}}))}function m(){jQuery("body").css({overflow:"visible"})}function o(a,b){jQuery(a).css({left:b})}function p(a){function l(a){if(void 0!=a&&(null!=c.$currentTouchedThumbnail&&Ma(c.$currentTouchedThumbnail),c.$currentTouchedThumbnail=null,"function"!=typeof c.O.fnThumbnailClicked||c.O.fnThumbnailClicked(c.I[a].$elt,c.I[a]))){if(void 0!==c.I[a].destinationURL&&c.I[a].destinationURL.length>0)return void(window.location=c.I[a].destinationURL);c.openNoDelay=!1,"album"==c.I[a].kind?da(a,!1,-1,!0):Na(a,!1)}}function m(){if(h=0,e=null,g=null,o(c.$E.conTn[0],0),c.containerViewerDisplayed)c.$currentTouchedThumbnail=null,c.openNoDelay=!1;else if(null!=c.$currentTouchedThumbnail){if(Math.abs(k.t-nb().t)>10)return Ma(c.$currentTouchedThumbnail),c.$currentTouchedThumbnail=null,void(c.openNoDelay=!1);var a=c.$currentTouchedThumbnail,b=a.data("index");if(void 0==b)return;("l1"==c.curNavLevel&&void 0!==c.O.touchAnimationL1?c.O.touchAnimationL1:c.O.touchAnimation)&&!c.openNoDelay?c.O.touchAutoOpenDelay>0?(Ba(),Ka(a),window.clearInterval(c.touchAutoOpenDelayTimerID),c.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(c.touchAutoOpenDelayTimerID),Math.abs(k.t-nb().t)>10?(c.openNoDelay=!1,c.$currentTouchedThumbnail=null,Ma(a)):l(b)},c.O.touchAutoOpenDelay)):c.I[b].hovered?l(b):(Ba(),Ka(a)):l(b)}else c.openNoDelay=!1}function n(){if(null==g||null==e)return void m();var a=e.x-g.x;e.y-g.y;h-=a,c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()&&c.O.paginationSwipe&&Math.abs(a)>40&&Math.abs(k.t-nb().t)<=10?(c.$currentTouchedThumbnail=null,h=0,e=null,g=null,Ba(),a<-40?pa():oa()):m()}function p(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function q(){if(d){if(c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()){var a=e.x-g.x;o(b,h-a)}d=!1}}function r(a){if(!c.containerViewerDisplayed){var b=a.target||a.srcElement;jQuery(b).hasClass("nanoGalleryThumbnailContainer")&&Ka(jQuery(b))}}function s(a){var b=a.target||a.srcElement;jQuery(b).hasClass("nanoGalleryThumbnailContainer")&&Ma(jQuery(b))}var b=a,d=!1,e=null,g=null,h=0,i=!1,j=null,k=0;if(this.handleGestureStartNoDelay=function(a){var b=jQuery(a.target).get(0).tagName.toUpperCase();if(c.containerViewerDisplayed||"A"==b||"INPUT"==b||jQuery(a.target).hasClass("customEventHandler")){if(jQuery(a.target).hasClass("ngChekbox")){var d=jQuery(a.target).parent().data("index");void 0!=d&&xa(c.I[d],void 0,!1)}return a.stopPropagation(),!1}f(a),(new Date).getTime()-c.timeLastTouchStart<400&&c.O.itemsSelectable!==!0||(c.openNoDelay=!0,this.handleGestureStart(a))}.bind(this),this.handleGestureStart=function(a){var b=jQuery(a.target).get(0).tagName.toUpperCase();if(c.containerViewerDisplayed||"A"==b||"INPUT"==b||jQuery(a.target).hasClass("customEventHandler"))return a.stopPropagation(),!1;if(!((new Date).getTime()-c.timeImgChanged<400&&c.O.itemsSelectable!==!0||(new Date).getTime()-c.timeLastTouchStart<400&&c.O.itemsSelectable!==!0)){c.timeLastTouchStart=(new Date).getTime();for(var d=a.target||a.srcElement,f=!1;d!=c.$E.conTn[0];)jQuery(d).hasClass("nanoGalleryThumbnailContainer")&&(null==c.$currentTouchedThumbnail||c.$currentTouchedThumbnail.is(jQuery(d))||Ba(),c.$currentTouchedThumbnail=jQuery(d),f=!0),d=d.parentNode;if(f){if(c.O.itemsSelectable===!0){if(c.isShiftPressed||c.isCtrlPressed||c.isMetaPressed||"input"===a.target.nodeName.toLowerCase())return xa(c.I[c.$currentTouchedThumbnail.data("index")]),!1;if(c.selectMode===!0)return xa(c.I[c.$currentTouchedThumbnail.data("index")]),!1;if(c.I[c.$currentTouchedThumbnail.data("index")].kind===c.selectMode)return xa(c.I[c.$currentTouchedThumbnail.data("index")]),!1;var g=c.$currentTouchedThumbnail.data("index");c.touchSelectTO=setTimeout(function(){xa(c.I[g])},500)}k=nb(),e=p(a),initialOffsetTop=nb().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),c.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"),c.gallerySwipeInitDone=!0}}}.bind(this),this.handleGestureMove=function(a){g=p(a),d||c.O.paginationSwipe&&c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()&&(Math.abs(e.x-g.x)>15||i)&&(a.preventDefault(),i=!0,d=!0,window.requestAnimationFrame(q))}.bind(this),this.handleGestureEnd=function(a){if(a.cancelable&&a.preventDefault(),a.stopPropagation(),d=!1,i=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),c.O.itemsSelectable===!0){if((new Date).getTime()-c.timeLastTouchStart>500)return!1;clearTimeout(c.touchSelectTO)}c.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off"),n(),e=null,g=null,h=0,i=!1,j=null}.bind(this),window.navigator.msPointerEnabled)b.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0);else if(b.addEventListener("touchstart",this.handleGestureStart,!0),!c.isIOS){var t=this;b.addEventListener("mousedown",function(a){2!=a.button&&t.handleGestureStartNoDelay(a)},!0)}b.addEventListener("mouseenter",r,!0),b.addEventListener("mouseleave",s,!0)}function q(){"fancybox"==c.O.viewer&&"undefined"==typeof jQuery.fancybox&&(c.O.viewer="internal",mb("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")),"CBRISBOIS@GMAIL.COM"!=c.O.userID.toUpperCase()&&"111186676244625461692"!=c.O.userID||""!=c.O.blackList&&"SCRAPBOOK|PROFIL"!=c.O.blackList.toUpperCase()||(c.O.blackList="profil|scrapbook|forhomepage"),""!=c.O.blackList&&(c.blackList=c.O.blackList.toUpperCase().split("|")),""!=c.O.whiteList&&(c.whiteList=c.O.whiteList.toUpperCase().split("|")),""!=c.O.albumList&&(c.albumList=c.O.albumList.toUpperCase().split("|")),"picasa"!=c.O.kind&&"flickr"!=c.O.kind||(c.O.displayBreadcrumb=!0),void 0!==c.O.photoset?c.O.photoset.length>0&&(c.O.displayBreadcrumb=!1):c.O.photoset="",void 0!==c.O.album?c.O.album.length>0&&(c.O.displayBreadcrumb=!1):c.O.album="",c.O.maxWidth>0&&(jQuery(c.$E.base).css({maxWidth:c.O.maxWidth}),jQuery(c.$E.base).css({"margin-left":"auto"}),jQuery(c.$E.base).css({"margin-right":"auto"})),"number"==sb(c.O.slideshowDelay)&&c.O.slideshowDelay>=2e3?c.slideshowDelay=c.O.slideshowDelay:mb('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==sb(c.O.thumbnailDisplayInterval)&&c.O.thumbnailDisplayInterval>=0?c.tn.displayInterval=c.O.thumbnailDisplayInterval:mb('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==sb(c.O.thumbnailLazyLoadTreshold)&&c.O.thumbnailLazyLoadTreshold>=0?c.tn.lazyLoadTreshold=c.O.thumbnailLazyLoadTreshold:mb('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==sb(c.O.paginationMaxLinesPerPage)&&c.O.paginationMaxLinesPerPage>=0?c.pgMaxLinesPerPage=c.O.paginationMaxLinesPerPage:mb('Parameter "paginationMaxLinesPerPage" must be an integer.'),void 0!==c.O.thumbnailSizeSM&&(c.O.breakpointSizeSM=c.O.thumbnailSizeSM),void 0!==c.O.thumbnailSizeME&&(c.O.breakpointSizeME=c.O.thumbnailSizeME),void 0!==c.O.thumbnailSizeLA&&(c.O.breakpointSizeLA=c.O.thumbnailSizeLA),void 0!==c.O.thumbnailSizeXL&&(c.O.breakpointSizeXL=c.O.thumbnailSizeXL);var a=c.O.albumSorting.toUpperCase();0==a.indexOf("RANDOM")&&a.length>6&&(n=parseInt(a.substring(6)),n>0&&(c.maxAlbums=n),c.O.albumSorting="random");var b=c.O.photoSorting.toUpperCase();0==b.indexOf("RANDOM")&&b.length>6&&(n=parseInt(b.substring(6)),n>0&&(c.maxPhotos=n),c.O.photoSorting="random");var d=parseInt(c.O.albumMax);d>0&&(c.maxAlbums=n);var e=c.O.thumbnailL1HoverEffect;if(void 0!==e)switch(sb(e)){case"string":for(var f=e.split(","),g=0;g<f.length;g++)if("none"!=f[g]&&v(f[g])){var h=u();h.name=f[g],c.tnL1HE.push(h)}break;case"object":if("none"!=e.name&&v(e.name)){var h=u();c.tnL1HE.push(jQuery.extend(h,e))}break;case"array":for(var g=0;g<e.length;g++)if("none"!=e[g].name&&v(e[g].name)){var h=u();c.tnL1HE.push(jQuery.extend(h,e[g]))}break;case"null":break;default:lb('incorrect parameter for "thumbnailL1HoverEffect".')}var i=c.O.thumbnailHoverEffect;switch(sb(i)){case"string":for(var f=i.split(","),g=0;g<f.length;g++)if("none"!=f[g]&&v(f[g])){var h=u();h.name=f[g],c.tnHE.push(h)}break;case"object":if("none"!=i.name&&v(i.name)){var h=u();c.tnHE.push(jQuery.extend(h,i))}break;case"array":for(var g=0;g<i.length;g++)if("none"!=i[g].name&&v(i[g].name)){var h=u();c.tnHE.push(jQuery.extend(h,i[g]))}break;case"null":break;default:lb('incorrect parameter for "thumbnailHoverEffect".')}if(0==c.tnHE.length&&(0==c.tnL1HE.length&&(c.O.touchAnimationL1=!1),c.O.touchAnimation=!1),c.curWidth=s(),"number"==sb(c.O.thumbnailWidth))r("width","l1",c.O.thumbnailWidth,"u"),r("width","lN",c.O.thumbnailWidth,"u");else{var j=c.O.thumbnailWidth.split(" "),k="auto";"auto"!=j[0].substring(0,4)&&(k=parseInt(j[0]));var l="u";"C"==j[0].charAt(j[0].length-1)&&(l="c"),r("width","l1",k,l),r("width","lN",k,l);for(var g=1;g<j.length;g++){var m=j[g].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var o=j[g].substring(2),k="auto";"auto"!=o.substring(0,4)&&(k=parseInt(o));var l="u";"C"==o.charAt(o.length-1)&&(l="c"),c.tn.settings.width.l1[m]=k,c.tn.settings.width.lN[m]=k,c.tn.settings.width.l1[m+"c"]=l,c.tn.settings.width.lN[m+"c"]=l}}}if(void 0!=c.O.thumbnailL1Width)if("number"==sb(c.O.thumbnailL1Width))r("width","l1",c.O.thumbnailL1Width,"u");else{var j=c.O.thumbnailL1Width.split(" "),k="auto";"auto"!=j[0].substring(0,4)&&(k=parseInt(j[0]));var l="u";"C"==j[0].charAt(j[0].length-1)&&(l="c"),r("width","l1",k,l);for(var g=1;g<j.length;g++){var m=j[g].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var o=j[g].substring(2),k="auto";"auto"!=o.substring(0,4)&&(k=parseInt(o));var l="u";"C"==o.charAt(o.length-1)&&(l="c"),c.tn.settings.width.l1[m]=k,c.tn.settings.width.l1[m+"c"]=l}}}if("number"==sb(c.O.thumbnailHeight))r("height","l1",c.O.thumbnailHeight,"u"),r("height","lN",c.O.thumbnailHeight,"u");else{var j=c.O.thumbnailHeight.split(" "),k="auto";"auto"!=j[0].substring(0,4)&&(k=parseInt(j[0]));var l="u";"C"==j[0].charAt(j[0].length-1)&&(l="c"),r("height","l1",k,l),r("height","lN",k,l);for(var g=1;g<j.length;g++){var m=j[g].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var o=j[g].substring(2),k="auto";"auto"!=o.substring(0,4)&&(k=parseInt(o));var l="u";"C"==o.charAt(o.length-1)&&(l="c"),c.tn.settings.height.l1[m]=k,c.tn.settings.height.lN[m]=k,c.tn.settings.height.l1[m+"c"]=l,c.tn.settings.height.lN[m+"c"]=l}}}if(void 0!=c.O.thumbnailL1Height)if("number"==sb(c.O.thumbnailL1Height))r("height","l1",c.O.thumbnailL1Height,"u");else{var j=c.O.thumbnailL1Height.split(" "),k="auto";"auto"!=j[0].substring(0,4)&&(k=parseInt(j[0]));var l="u";"C"==j[0].charAt(j[0].length-1)&&(l="c"),r("height","l1",k,l);for(var g=1;g<j.length;g++){var m=j[g].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var o=j[g].substring(2),k="auto";"auto"!=o.substring(0,4)&&(k=parseInt(o));var l="u";"C"==o.charAt(o.length-1)&&(l="c"),c.tn.settings.height.l1[m]=k,c.tn.settings.height.l1[m+"c"]=l}}}}function r(a,b,d,e){c.tn.settings[a][b].xs=d,c.tn.settings[a][b].sm=d,c.tn.settings[a][b].me=d,c.tn.settings[a][b].la=d,c.tn.settings[a][b].xl=d,c.tn.settings[a][b].xsc=e,c.tn.settings[a][b].smc=e,c.tn.settings[a][b].mec=e,c.tn.settings[a][b].lac=e,c.tn.settings[a][b].xlc=e}function s(){var a=nb().w;return c.O.breakpointSizeSM>0&&a<c.O.breakpointSizeSM?"xs":c.O.breakpointSizeME>0&&a<c.O.breakpointSizeME?"sm":c.O.breakpointSizeLA>0&&a<c.O.breakpointSizeLA?"me":c.O.breakpointSizeXL>0&&a<c.O.breakpointSizeXL?"la":"xl"}function t(){var a=Math.max(nb().w,nb().h);return c.O.breakpointSizeSM>0&&a<c.O.breakpointSizeSM?"xs":c.O.breakpointSizeME>0&&a<c.O.breakpointSizeME?"sm":c.O.breakpointSizeLA>0&&a<c.O.breakpointSizeLA?"me":c.O.breakpointSizeXL>0&&a<c.O.breakpointSizeXL?"la":"xl"}function u(){var a={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};return"animate"!=c.aengine&&(a.easing="ease",a.easingBack="ease"),a}function v(a){var b=/labelOpacity50|borderLighter|borderDarker/i.test(a),d=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(a),e=/imageExplode/i.test(a);return c.O.touchAutoOpenDelay=parseInt(c.O.touchAutoOpenDelay),0==c.O.touchAutoOpenDelay&&(c.O.touchAutoOpenDelay=1e3),b||d||e?"onBottom"!=c.O.thumbnailLabel.get("position")||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(a)?!e||"animate"!=c.aengine&&null!=c.CSStransformName||(mb('Parameter thumbnailHoverEffect="'+a+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(lb('The parameter combination thumbnailHoverEffect="'+a+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(lb('Unknow parameter value: thumbnailHoverEffect="'+a+'".'),!1)}function w(){c.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===c.i18nLang&&(c.i18nLang="");var a=-("_"+c.i18nLang).length;if("object"==sb(c.O.i18n))for(var b in c.O.i18n){var d=b.substr(a);d=="_"+c.i18nLang?c.i18nTranslations[b.substr(0,b.length-d.length)]=c.O.i18n[b]:c.i18nTranslations[b]=c.O.i18n[b]}}function x(a){if(""!=c.O.openOnStart){var b=c.O.openOnStart;return c.O.openOnStart="",y(!1,b,!0)}if(!c.O.locationHash)return!1;var f="#nanogallery/"+c.baseEltID+"/",g=location.hash;if(g!=c.lastLocationHash){if(""==g&&c.lastOpenAlbumID!=-1)return c.lastLocationHash="",da(0,!1,-1,!1),!0;if(0==g.indexOf(f)){var b=g.substring(f.length);return y(a,b,!a)}}}function y(a,b,d){var e=null,f=null,g=b.indexOf("/"),h=-1,i=-1,j=c.I.length;if(g>0){e=b.substring(0,g),f=b.substring(g+1);for(var k=0;k<j;k++)if("image"==c.I[k].kind&&c.I[k].GetID()==f){i=k;break}}else e=b;for(var k=0;k<j;k++)if("album"==c.I[k].kind&&c.I[k].GetID()==e){h=k;break}return null!==f?(d&&(c.albumIdxToOpenOnViewerClose=h),""==c.O.kind?Na(i):i==-1?(c.O.viewerFullscreen&&ngscreenfull.request(),da(h,!1,f,a)):Na(i),!0):(da(h,!1,-1,a),!0)}function z(){c.I=[],c.curNavLevel="lN";var a="";c.O.thumbnailLabel.get("displayDescription")&&(a="d");var b=R("dummydummydummy",c.emptyGif,c.emptyGif,a,"","image","","1","0"),d=ua(b,0,!1).e$;c.tn.borderWidth=d.outerWidth(!0)-d.width(),c.tn.borderHeight=d.outerHeight(!0)-d.height(),c.tn.imgcBorderWidth=d.find(".imgContainer").outerWidth(!0)-d.find(".imgContainer").width(),c.tn.imgcBorderHeight=d.find(".imgContainer").outerHeight(!0)-d.find(".imgContainer").height(),c.tn.labelBorderHeight=d.find(".labelImage").outerHeight(!0)-d.find(".labelImage").height(),c.tn.labelBorderWidth=d.find(".labelImage").outerWidth(!0)-d.find(".labelImage").width(),"onBottom"==c.O.thumbnailLabel.get("position")&&(c.tn.labelHeight.lN=d.find(".labelImage").outerHeight(!0),c.tn.labelHeight.l1=c.tn.labelHeight.lN);for(var e=["xs","sm","me","la","xl"],f=0;f<e.length;f++)g=c.tn.settings.width.lN[e[f]],
"auto"!=g?(c.tn.outerWidth.lN[e[f]]=g+c.tn.borderWidth+c.tn.imgcBorderWidth,c.tn.outerWidth.l1[e[f]]=g+c.tn.borderWidth+c.tn.imgcBorderWidth):(c.tn.outerWidth.lN[e[f]]=0,c.tn.outerWidth.l1[e[f]]=0);for(var f=0;f<e.length;f++)h=c.tn.settings.height.lN[e[f]],"auto"!=h?(c.tn.outerHeight.lN[e[f]]=h+c.tn.borderHeight+c.tn.imgcBorderHeight+c.tn.labelHeight.get(),c.tn.outerHeight.l1[e[f]]=h+c.tn.borderHeight+c.tn.imgcBorderHeight+c.tn.labelHeight.get()):(c.tn.outerHeight.lN[e[f]]=0,c.tn.outerHeight.l1[e[f]]=0);c.I=[],c.curNavLevel="l1",a="",c.O.thumbnailLabel.get("displayDescription")&&(a="d"),b=R("dummydummydummy",c.emptyGif,c.emptyGif,a,"","image","","1","0"),d=ua(b,0,!1).e$,c.tn.borderWidth=d.outerWidth(!0)-d.width(),c.tn.borderHeight=d.outerHeight(!0)-d.height(),c.tn.imgcBorderWidth=d.find(".imgContainer").outerWidth(!0)-d.find(".imgContainer").width(),c.tn.imgcBorderHeight=d.find(".imgContainer").outerHeight(!0)-d.find(".imgContainer").height(),c.tn.labelBorderHeight=d.find(".labelImage").outerHeight(!0)-d.find(".labelImage").height(),c.tn.labelBorderWidth=d.find(".labelImage").outerWidth(!0)-d.find(".labelImage").width(),"onBottom"==c.O.thumbnailLabel.get("position")&&(c.tn.labelHeight.l1=d.find(".labelImage").outerHeight(!0));for(var e=["xs","sm","me","la","xl"],f=0;f<e.length;f++){var g=c.tn.settings.width.l1[e[f]];"auto"!=g?c.tn.outerWidth.l1[e[f]]=g+c.tn.borderWidth+c.tn.imgcBorderWidth:c.tn.outerWidth.l1[e[f]]=0}for(var f=0;f<e.length;f++){var h=c.tn.settings.height.l1[e[f]];"auto"!=h?c.tn.outerHeight.l1[e[f]]=h+c.tn.borderHeight+c.tn.imgcBorderHeight+c.tn.labelHeight.get():c.tn.outerHeight.l1[e[f]]=0}c.pgMaxNbThumbnailsPerRow=ha(),c.custGlobals.oldBorderColor=d.css("border-color-top"),""!=c.custGlobals.oldBorderColor&&null!=c.custGlobals.oldBorderColor&&void 0!=c.custGlobals.oldBorderColor||(c.custGlobals.oldBorderColor="#000"),c.custGlobals.oldLabelOpacity=d.find(".labelImage").css("opacity");var i=jQuery.Color(d.find(".labelImage"),"backgroundColor");if("transparent"==i?(c.custGlobals.oldLabelRed=0,c.custGlobals.oldLabelGreen=0,c.custGlobals.oldLabelBlue=0):(c.custGlobals.oldLabelRed=i.red(),c.custGlobals.oldLabelGreen=i.green(),c.custGlobals.oldLabelBlue=i.blue()),c.I=[],c.O.thumbnailLabel.display)switch(c.O.thumbnailLabel.position){case"onBottom":c.tn.styleLabelImage="top:0; position:relative; left:0; right:0;",c.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==c.tn.settings.getH()?(c.tn.styleFTitle="white-space:normal;",c.tn.styleL1FTitle="white-space:normal;",c.tn.styleITitle="white-space:normal;",c.tn.styleL1ITitle="white-space:normal;",c.tn.styleDesc="white-space:normal;",c.tn.styleL1Desc="white-space:normal;"):(c.tn.styleFTitle="white-space:nowrap;",c.tn.styleL1FTitle="white-space:nowrap;",c.tn.styleITitle="white-space:nowrap;",c.tn.styleL1ITitle="white-space:nowrap;",c.tn.styleDesc="white-space:nowrap;",c.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":c.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",c.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":c.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",c.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",c.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleDesc="left:0; right:0; position:absolute; top:50%;",c.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:c.O.thumbnailLabel.position="overImageOnBottom",c.tn.styleLabelImage="bottom:0; left:0; right:0;",c.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}if(c.O.thumbnailL1Label&&c.O.thumbnailL1Label.display)switch(c.O.thumbnailL1Label.position){case"onBottom":c.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==c.tn.settings.getH()?(c.tn.styleL1FTitle="white-space:normal;",c.tn.styleL1ITitle="white-space:normal;",c.tn.styleL1Desc="white-space:normal;"):(c.tn.styleL1FTitle="white-space:nowrap;",c.tn.styleL1ITitle="white-space:nowrap;",c.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":c.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":c.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",c.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",c.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":c.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:c.O.thumbnailL1Label.position="overImageOnBottom",c.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}}function A(a,b){var d="";return d=""!=c.i18nLang&&void 0!==a[b+"_"+c.i18nLang]&&a[b+"_"+c.i18nLang].length>0?a[b+"_"+c.i18nLang]:a[b]}function B(a){if("%filename"==c.O.thumbnailLabel.get("title"))return a.split("/").pop().replace("_"," ");if("%filenameNoExt"==c.O.thumbnailLabel.get("title")){var b=a.split("/").pop();return b.split(".").shift().replace("_"," ")}return a}function C(){var a=!1;"undefined"!=typeof c.O.dataSorting&&("random"==c.O.dataSorting?c.O.items=ub(c.O.items):"reversed"==c.O.dataSorting&&(c.O.items=c.O.items.reverse())),jQuery.each(c.O.items,function(b,d){var e="";e=A(d,"title"),void 0===e&&(e="");var f=c.O.itemsBaseURL;f+=void 0!==d["src"+t().toUpperCase()]?d["src"+t().toUpperCase()]:d.src;var g="";g=void 0!==d.srct&&d.srct.length>0?c.O.itemsBaseURL+d.srct:f;var h="";h=void 0!==d.srct2x&&d.srct2x.length>0?c.O.itemsBaseURL+d.srct2x:""!=g?g:f,""!=c.O.thumbnailLabel.get("title")&&(e=B(f));var i="";i=A(d,"description"),void 0===i&&(i="");var j="";void 0!==d.destURL&&d.destURL.length>0&&(j=d.destURL);var k=A(d,"tags");void 0===k&&(k="");var l=0;void 0!==d.albumID&&(l=d.albumID,a=!0);var m=null;void 0!==d.ID&&(m=d.ID);var n="image";void 0!==d.kind&&d.kind.length>0&&(n=d.kind);var o=R(e,g,f,i,j,n,k,m,l),p=0;void 0!==d.imgtWidth&&d.imgtWidth>0&&(p=d.imgtWidth);var q=0;void 0!==d.imgtHeight&&d.imgtHeight>0&&(q=d.imgtHeight),o.thumbs={url:{l1:{xs:g,sm:g,me:g,la:g,xl:g},lN:{xs:g,sm:g,me:g,la:g,xl:g}},width:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}},height:{l1:{xs:q,sm:q,me:q,la:q,xl:q},lN:{xs:q,sm:q,me:q,la:q,xl:q}}},null!==d.customData&&(o.customData=D(d.customData)),"function"==typeof c.O.fnProcessData&&c.O.fnProcessData(o,"api",null)}),a&&(c.O.displayBreadcrumb=!0);for(var b=c.I.length,d=0,e=0,f=0;f<b;f++){d=0,e=0;for(var g=0;g<b;g++)f!=g&&c.I[f].GetID()==c.I[g].albumID&&(d++,"image"==c.I[g].kind&&(c.I[g].imageNumber=e++));c.I[f].contentLength=d}}function D(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=D(a[c]);return b}function E(a){var b=!1;"undefined"!=typeof c.O.dataSorting&&("random"==c.O.dataSorting?a=ub(a):"reversed"==c.O.dataSorting&&(jQuery.fn.reverse=[].reverse,a=a.reverse())),jQuery.each(a,function(a,d){var e="";void 0!==jQuery(d).attr("data-ngthumb")&&jQuery(d).attr("data-ngthumb").length>0&&(e=c.O.itemsBaseURL+jQuery(d).attr("data-ngthumb")),void 0!==jQuery(d).attr("data-ngThumb")&&jQuery(d).attr("data-ngThumb").length>0&&(e=c.O.itemsBaseURL+jQuery(d).attr("data-ngThumb"));var f="";void 0!==jQuery(d).attr("data-ngthumb2x")&&jQuery(d).attr("data-ngthumb2x").length>0&&(f=c.O.itemsBaseURL+jQuery(d).attr("data-ngthumb2x")),void 0!==jQuery(d).attr("data-ngThumb2x")&&jQuery(d).attr("data-ngThumb2x").length>0&&(f=c.O.itemsBaseURL+jQuery(d).attr("data-ngThumb2x"));var g="",h=t().toUpperCase();void 0!==jQuery(d).attr("data-ngsrc"+h)&&jQuery(d).attr("data-ngsrc"+h).length>0&&(g=c.O.itemsBaseURL+jQuery(d).attr("data-ngsrc"+h)),void 0!==jQuery(d).attr("data-ngSrc"+h)&&jQuery(d).attr("data-ngSrc"+h).length>0&&(g=c.O.itemsBaseURL+jQuery(d).attr("data-ngSrc"+h)),""==g&&(g=c.O.itemsBaseURL+jQuery(d).attr("href"));var i="";void 0!==jQuery(d).attr("data-ngdesc")&&jQuery(d).attr("data-ngdesc").length>0&&(i=jQuery(d).attr("data-ngdesc")),void 0!==jQuery(d).attr("data-ngDesc")&&jQuery(d).attr("data-ngDesc").length>0&&(i=jQuery(d).attr("data-ngDesc"));var j="";void 0!==jQuery(d).attr("data-ngdest")&&jQuery(d).attr("data-ngdest").length>0&&(j=jQuery(d).attr("data-ngdest")),void 0!==jQuery(d).attr("data-ngDest")&&jQuery(d).attr("data-ngDest").length>0&&(j=jQuery(d).attr("data-ngDest"));var k=0;void 0!==jQuery(d).attr("data-ngalbumid")&&(k=jQuery(d).attr("data-ngalbumid"),b=!0),void 0!==jQuery(d).attr("data-ngAlbumID")&&(k=jQuery(d).attr("data-ngAlbumID"),b=!0);var l=null;void 0!==jQuery(d).attr("data-ngid")&&(l=jQuery(d).attr("data-ngid")),void 0!==jQuery(d).attr("data-ngID")&&(l=jQuery(d).attr("data-ngID"));var m="image";void 0!==jQuery(d).attr("data-ngkind")&&jQuery(d).attr("data-ngkind").length>0&&(m=jQuery(d).attr("data-ngkind")),void 0!==jQuery(d).attr("data-ngKind")&&jQuery(d).attr("data-ngKind").length>0&&(m=jQuery(d).attr("data-ngKind"));var n=jQuery(d).text();""!=c.O.thumbnailLabel.get("title")&&void 0!=c.O.thumbnailLabel.get("title")&&(n=B(g));var o=R(n,e,g,i,j,m,"",l,k),p=0;void 0!==jQuery(d).attr("data-ngthumbImgWidth")&&jQuery(d).attr("data-ngthumbImgWidth").length>0&&(p=jQuery(d).attr("data-ngthumbImgWidth"));var q=0;void 0!==jQuery(d).attr("data-ngthumbImgHeight")&&jQuery(d).attr("data-ngthumbImgHeight").length>0&&(q=jQuery(d).attr("data-ngthumbImgHeight")),o.thumbs={url:{l1:{xs:e,sm:e,me:e,la:e,xl:e},lN:{xs:e,sm:e,me:e,la:e,xl:e}},width:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}},height:{l1:{xs:q,sm:q,me:q,la:q,xl:q},lN:{xs:q,sm:q,me:q,la:q,xl:q}}},void 0!==jQuery(d).data("customdata")&&(o.customData=D(jQuery(d).data("customdata"))),"function"==typeof c.O.fnProcessData&&c.O.fnProcessData(o,"markup",null)}),jQuery.each(a,function(a,b){jQuery(b).remove()}),b&&(c.O.displayBreadcrumb=!0);for(var d=c.I.length,e=0,f=0,g=0;g<d;g++){e=0,f=0;for(var h=0;h<d;h++)g!=h&&c.I[g].GetID()==c.I[h].albumID&&(e++,"image"==c.I[h].kind&&(c.I[h].imageNumber=f++));c.I[g].contentLength=e}}function F(a,b,d,e){if(aa(a),c.I[a].contentIsLoaded)return void U(a,e);var f=c.O.jsonProvider+"?albumID="+encodeURIComponent(c.I[a].GetID());ba(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var g=setTimeout(function(){ca(),lb("Could not retrieve Custom data...")},6e4);jQuery.getJSON(f,function(f,h,i){if(clearTimeout(g),ca(),H(a,f),b||""!=c.O.openOnStart)x(!1)||U(a,e);else if(d!=-1){for(var j=-1,k=c.I.length,l=0;l<k;l++)if("image"==c.I[l].kind&&c.I[l].GetID()==d){j=l;break}Na(j,!0)}else U(a,e)}).fail(function(a,b,c){clearTimeout(g),ca();var d=b+", "+c;lb("Could not retrieve JSON items list (jQuery): "+d)})}function G(a){return decodeURIComponent(a)}function H(a,b){var d=!1,e=0;jQuery.each(b,function(a,b){var f="";f=A(b,"title"),void 0===f&&(f="");var g=c.O.jsonProvider.substring(0,c.O.jsonProvider.indexOf("nanoPhotosProvider.php")),h=g+G(b.src),i=g+G(b.srct);""!=c.O.thumbnailLabel.get("title")&&(f=B(b.src));var j="";j=A(b,"description"),void 0===j&&(j="");var k="",l=0;void 0!==b.albumID&&(l=b.albumID,d=!0);var m=null;void 0!==b.ID&&(m=b.ID);var n="image";void 0!==b.kind&&b.kind.length>0&&(n=b.kind);var o=R(f,i,h,j,k,n,"",m,l),p=b.imgtWidth,q=b.imgtHeight;if(o.thumbs={url:{l1:{xs:i,sm:i,me:i,la:i,xl:i},lN:{xs:i,sm:i,me:i,la:i,xl:i}},width:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}},height:{l1:{xs:q,sm:q,me:q,la:q,xl:q},lN:{xs:q,sm:q,me:q,la:q,xl:q}}},"function"==typeof c.O.fnProcessData&&c.O.fnProcessData(o,"api",null),"image"==n&&(o.imageNumber=e,e++,e>=c.maxAlbums))return!1}),d&&(c.O.displayBreadcrumb=!0),c.I[a].contentIsLoaded=!0,c.I[a].contentLength=e}function I(a,b,d,e){if(aa(a),c.I[a].contentIsLoaded)return void U(a,e);var f="",g="album";0==c.I[a].GetID()?f=c.flickr.url()+"?&method=flickr.photosets.getList&api_key="+c.flickr.ApiKey+"&user_id="+c.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(f="none"==c.I[a].GetID()?c.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+c.flickr.ApiKey+"&user_id="+c.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":c.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+c.flickr.ApiKey+"&photoset_id="+c.I[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",g="image"),ba(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var h=setTimeout(function(){ca(),lb("Could not retrieve Flickr data...")},6e4);jQuery.getJSON(f,function(f,i,j){if(clearTimeout(h),ca(),"album"==g?J(a,f):M(a,f),b||""!=c.O.openOnStart)x(!1)||U(a,e);else if(d!=-1){for(var k=-1,l=c.I.length,m=0;m<l;m++)if("image"==c.I[m].kind&&c.I[m].GetID()==d){k=m;break}Na(k,!0)}else U(a,e)}).fail(function(a,b,c){clearTimeout(h),ca();var d=b+", "+c;lb("Could not retrieve Flickr photoset list (jQuery): "+d)})}function J(a,b){var d=!0;if(void 0!==b.stat&&"fail"===b.stat&&(lb("Could not retrieve Flickr photoset list: "+b.message+" (code: "+b.code+")."),d=!1),d){var e=0,f=b.photosets.photoset;switch(c.O.albumSorting){case"random":f=ub(f);break;case"reversed":f=f.reverse();break;case"titleAsc":f.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return c<d?-1:c>d?1:0});break;case"titleDesc":f.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return c>d?-1:c<d?1:0})}jQuery.each(f,function(b,d){if(itemTitle=d.title._content,T(itemTitle,d.id)){itemID=d.id,itemDescription="",void 0!=d.description._content&&(itemDescription=d.description._content);var f={};for(var g in d.primary_photo_extras)f[g]=d.primary_photo_extras[g];tags="",void 0!==d.primary_photo_extras&&void 0!==d.primary_photo_extras.tags&&(tags=d.primary_photo_extras.tags);var h=R(itemTitle,"","",itemDescription,"","album",tags,itemID,c.I[a].GetID());h.contentLength=d.photos,h.thumbSizes=f;var i={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(i=K(i,d.primary_photo_extras,"l1"),i=K(i,d.primary_photo_extras,"lN"),h.thumbs=i,e++,e>=c.maxAlbums)return!1}}),c.I[a].contentIsLoaded=!0,c.I[a].contentLength=e}}function K(a,b,d){for(var e=["xs","sm","me","la","xl"],f=0;f<e.length;f++)if("auto"==c.tn.settings.width[d][e[f]]){var g="height_",h=Math.ceil(c.tn.settings.height[d][e[f]]*c.tn.scale),i=L(g,h,b);a.url[d][e[f]]=i.url,a.width[d][e[f]]=i.width,a.height[d][e[f]]=i.height}else if("auto"==c.tn.settings.height[d][e[f]]){var g="width_",h=Math.ceil(c.tn.settings.width[d][e[f]]*c.tn.scale),i=L(g,h,b);a.url[d][e[f]]=i.url,a.width[d][e[f]]=i.width,a.height[d][e[f]]=i.height}else{var g="height_",h=Math.ceil(c.tn.settings.height[d][e[f]]*c.tn.scale);c.tn.settings.width[d][e[f]]>c.tn.settings.height[d][e[f]]&&(g="width_",h=Math.ceil(c.tn.settings.width[d][e[f]]*c.tn.scale));var i=L(g,h,b);a.url[d][e[f]]=i.url,a.width[d][e[f]]=i.width,a.height[d][e[f]]=i.height}return a}function L(a,b,d){for(var e={url:"",width:0,height:0},f=0,g=0;g<c.flickr.thumbAvailableSizes.length;g++){var h=d[a+c.flickr.photoAvailableSizesStr[g]];if(void 0!=h&&(f=g,h>=b))break}var i=c.flickr.photoAvailableSizesStr[f];return e.url=d["url_"+i],e.width=parseInt(d["width_"+i]),e.height=parseInt(d["height_"+i]),e}function M(a,b){var d="";switch(d="none"==c.I[a].GetID()?b.photos.photo:b.photoset.photo,c.O.photoSorting){case"random":d=ub(d);break;case"reversed":d=d.reverse();break;case"titleAsc":d.sort(function(a,b){var d="",e="";return""!=c.O.thumbnailLabel.get("title")?(d=B(a.url_sq),e=B(b.url_sq)):(d=a.title.toUpperCase(),e=b.title.toUpperCase()),d<e?-1:d>e?1:0});break;case"titleDesc":d.sort(function(a,b){var d="",e="";return""!=c.O.thumbnailLabel.get("title")?(d=B(a.url_sq),e=B(b.url_sq)):(d=a.title.toUpperCase(),e=b.title.toUpperCase()),d>e?-1:d<e?1:0})}var e=c.I[a].GetID(),f=0;jQuery.each(d,function(a,b){for(var d=b.title,g=b.id,h=b.description._content,i=b.url_sq,a=c.flickr.photoSize;a>=0;a--)if(void 0!=b["url_"+c.flickr.photoAvailableSizesStr[a]]){i=b["url_"+c.flickr.photoAvailableSizesStr[a]];break}var j={};for(var k in b)0!=k.indexOf("height_")&&0!=k.indexOf("width_")&&0!=k.indexOf("url_")||(j[k]=b[k]);""!=c.O.thumbnailLabel.get("title")&&(d=B(i));var l=R(d,"",i,h,"","image","",g,e);l.imageNumber=f,void 0!==b.url_o?(l.width=b.width_o,l.height=b.height_o):(l.width=b.width_z,l.height=b.height_z);var m={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(m=K(m,b,"l1"),m=K(m,b,"lN"),l.thumbs=m,f++,f>=c.maxPhotos)return!1}),c.I[a].contentIsLoaded=!0,c.I[a].contentLength=f}function N(a,b,d,e,f){var g=Math.ceil(d*c.tn.scale)+f;return"auto"==b?g=Math.ceil(d*c.tn.scale)+f:"auto"==d?g=Math.ceil(b*c.tn.scale)+e:b>d&&(g=Math.ceil(b*c.tn.scale)+e),a.length>0&&(a+=","),a+=g}function O(a,b,d,e){if(aa(a),c.I[a].contentIsLoaded)return void U(a,e);var f="",g="album",h="";if(h=N(h,c.tn.settings.width.l1.xs,c.tn.settings.height.l1.xs,c.tn.settings.width.l1.xsc,c.tn.settings.height.l1.xsc),h=N(h,c.tn.settings.width.l1.sm,c.tn.settings.height.l1.sm,c.tn.settings.width.l1.smc,c.tn.settings.height.l1.smc),h=N(h,c.tn.settings.width.l1.me,c.tn.settings.height.l1.me,c.tn.settings.width.l1.mec,c.tn.settings.height.l1.mec),h=N(h,c.tn.settings.width.l1.la,c.tn.settings.height.l1.la,c.tn.settings.width.l1.lac,c.tn.settings.height.l1.lac),h=N(h,c.tn.settings.width.l1.xl,c.tn.settings.height.l1.xl,c.tn.settings.width.l1.xlc,c.tn.settings.height.l1.xlc),h=N(h,c.tn.settings.width.lN.xs,c.tn.settings.height.lN.xs,c.tn.settings.width.lN.xsc,c.tn.settings.height.lN.xsc),h=N(h,c.tn.settings.width.lN.sm,c.tn.settings.height.lN.sm,c.tn.settings.width.lN.smc,c.tn.settings.height.lN.smc),h=N(h,c.tn.settings.width.lN.me,c.tn.settings.height.lN.me,c.tn.settings.width.lN.mec,c.tn.settings.height.lN.mec),h=N(h,c.tn.settings.width.lN.la,c.tn.settings.height.lN.la,c.tn.settings.width.lN.lac,c.tn.settings.height.lN.lac),h=N(h,c.tn.settings.width.lN.xl,c.tn.settings.height.lN.xl,c.tn.settings.width.lN.xlc,c.tn.settings.height.lN.xlc),0==c.I[a].GetID())f=c.picasa.url()+"user/"+c.O.userID+"?alt=json&kind=album&thumbsize="+h+"&rnd="+(new Date).getTime();else{var i="";"undefined"!=typeof c.I[a].customData.authkey&&(i=c.I[a].customData.authkey),f=c.picasa.url()+"user/"+c.O.userID+"/albumid/"+c.I[a].GetID()+"?alt=json&kind=photo"+i+"&thumbsize="+h+"&imgmax=d",g="image"}ba(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var j=setTimeout(function(){ca(),lb("Could not retrieve Picasa/Google+ data...")},6e4),k=function(f){if(clearTimeout(j),ca(),P(a,f,g),b||""!=c.O.openOnStart)x(!1)||U(a,e);else if(d!=-1){for(var h=-1,i=c.I.length,k=0;k<i;k++)if("image"==c.I[k].kind&&c.I[k].GetID()==d){h=k;break}Na(h,!0)}else U(a,e)},l=null,m=function(a,b){jQuery.getJSON(a+"&start-index="+b,"callback=?",function(b){null===l?l=b:l.feed.entry=l.feed.entry.concat(b.feed.entry),b.feed.openSearch$startIndex.$t+b.feed.openSearch$itemsPerPage.$t>=b.feed.openSearch$totalResults.$t?k(l):m(a,b.feed.openSearch$startIndex.$t+b.feed.openSearch$itemsPerPage.$t)}).fail(function(b,c,d){clearTimeout(j),ca();var e="";for(var f in b)e+=f+"="+b[f]+"<br>";var g=c+", "+d+" "+e+"<br><br>URL:"+a;lb("Could not retrieve Picasa/Google+ data. Error: "+g)})};m(f,1)}function P(a,b,d){var e=0,f=c.I[a].GetID(),g=b.feed.entry,h=c.O.albumSorting;switch("image"==d&&(h=c.O.photoSorting),h){case"random":g=ub(g);break;case"reversed":g=g.reverse();break;case"titleAsc":g.sort(function(a,b){var e="",f="";return"image"==d?""!=c.O.thumbnailLabel.get("title")?(e=B(unescape(unescape(unescape(unescape(a.media$group.media$content[0].url))))),f=B(unescape(unescape(unescape(unescape(b.media$group.media$content[0].url)))))):(e=a.media$group.media$description.$t.toUpperCase(),f=b.media$group.media$description.$t.toUpperCase()):(e=a.media$group.media$title.$t.toUpperCase(),f=b.media$group.media$title.$t.toUpperCase()),e<f?-1:e>f?1:0});break;case"titleDesc":g.sort(function(a,b){var e="",f="";return"image"==d?""!=c.O.thumbnailLabel.get("title")?(e=B(unescape(unescape(unescape(unescape(a.media$group.media$content[0].url))))),f=B(unescape(unescape(unescape(unescape(b.media$group.media$content[0].url)))))):(e=a.media$group.media$description.$t.toUpperCase(),f=b.media$group.media$description.$t.toUpperCase()):(e=a.media$group.media$title.$t.toUpperCase(),f=b.media$group.media$title.$t.toUpperCase()),e>f?-1:e<f?1:0})}jQuery.each(g,function(a,b){var g=b.media$group.media$title.$t,h=b.media$group.media$thumbnail[0].url,i=b.gphoto$id.$t,j="",k=b.media$group.media$description.$t;"image"==d&&(j=g,g=k,k="");var l=b.media$group.media$content[0].url;"image"==d&&""!=c.O.thumbnailLabel.get("title")&&(g=B(unescape(unescape(unescape(unescape(l))))));var m=!0;"album"==d&&(T(g,i)||(m=!1));var n="";if(m){var o="",p="";if("album"==d)p=i;else{p=l;var q=l.substring(0,l.lastIndexOf("/"));q=q.substring(0,q.lastIndexOf("/"))+"/",p=window.screen.width>window.screen.height?q+"w"+window.screen.width+"/"+j:q+"h"+window.screen.height+"/"+j}var r=R(g,h,p,k,"",d,n,i,f);r.picasaThumbBaseURL=o,r.imageNumber=e,"album"==d&&(r.author=b.author[0].name.$t,r.contentLength=b.gphoto$numphotos.$t);var s={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(s=Q("l1",0,s,b,d),s=Q("lN",5,s,b,d),r.thumbs=s,"function"==typeof c.O.fnProcessData&&c.O.fnProcessData(r,"picasa",b),e++,e>=("album"==d?c.maxAlbums:c.maxPhotos))return!1}}),c.I[a].contentIsLoaded=!0,c.I[a].contentLength=e}function Q(a,b,d,e,f){for(var g=["xs","sm","me","la","xl"],h=0;h<g.length;h++)if(d.url[a][g[h]]=e.media$group.media$thumbnail[b+h].url,"image"==f){d.width[a][g[h]]=e.media$group.media$thumbnail[b+h].width,d.height[a][g[h]]=e.media$group.media$thumbnail[b+h].height;var i=e.media$group.media$thumbnail[b+h].width,j=e.media$group.media$thumbnail[b+h].height;if("auto"==c.tn.settings.width[a][g[h]]&&j<c.tn.settings.height[a][g[h]]){var k=i/j;d.width[a][g[h]]=i*k,d.height[a][g[h]]=j*k;var l=d.url[a][g[h]].substring(0,d.url[a][g[h]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",d.url[a][g[h]]=l+"h"+c.tn.settings.height[a][g[h]]+"/"}if("auto"==c.tn.settings.height[a][g[h]]&&i<c.tn.settings.width[a][g[h]]){var k=j/i;d.height[a][g[h]]=j*k,d.width[a][g[h]]=i*k;var l=d.url[a][g[h]].substring(0,d.url[a][g[h]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",d.url[a][g[h]]=l+"w"+c.tn.settings.width[a][g[h]]+"/"}}else{if("auto"!=c.tn.settings.width[a][g[h]])d.width[a][g[h]]=e.media$group.media$thumbnail[b+h].width;else{var l=d.url[a][g[h]].substring(0,d.url[a][g[h]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",d.url[a][g[h]]=l+"h"+c.tn.settings.height[a][g[h]]+"/"}if("auto"!=c.tn.settings.height[a][g[h]])d.height[a][g[h]]=e.media$group.media$thumbnail[b+h].height;else{var l=d.url[a][g[h]].substring(0,d.url[a][g[h]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",d.url[a][g[h]]=l+"w"+c.tn.settings.width[a][g[h]]+"/"}}return d}function R(a,b,e,f,g,h,i,j,k){var l=S(j),m=!1;return null===l?(l=new d(a,j),m=!0):l.title=a,l.src=e,l.description=f,l.destinationURL=g,l.kind=h,l.albumID=k,0==i.length?l.tags=null:l.tags=i.split(" "),m&&(l.title=a,c.I.push(l)),l}function S(a){for(var b=c.I.length,d=0;d<b;d++)if(c.I[d].GetID()==a)return c.I[d];return null}function T(a,b){var d=a.toUpperCase();if(null===c.albumList){var f=!1;if(null!==c.whiteList){for(var e=0;e<c.whiteList.length;e++)d.indexOf(c.whiteList[e])!==-1&&(f=!0);if(!f)return!1}if(null!==c.blackList)for(var e=0;e<c.blackList.length;e++)if(d.indexOf(c.blackList[e])!==-1)return!1;return!0}for(var e=0;e<c.albumList.length;e++)if(d==c.albumList[e].toUpperCase()||b==c.albumList[e])return!0}function U(a,b){"display"==c.O.lazyBuild?pb(c.$E.conTnParent,c.O.lazyBuildTreshold)?V(a,b):(c.delayedAlbumIdx=a,c.delayedSetLocationHash=b):V(a,b)}function V(a,b){if(c.O.lazyBuild="none",c.delayedAlbumIdx=-1,c.albumIdxToOpenOnViewerClose=-1,c.O.thumbnailAlbumDisplayImage&&0!=a){for(var d=c.I.length,e=0;e<d;e++)if(c.I[e].albumID==c.I[a].GetID()){Na(e);break}}else if(c.containerViewerDisplayed&&fb(!1),a!=c.lastOpenAlbumID){if(c.O.locationHash&&b){var f="nanogallery/"+c.baseEltID+"/"+c.I[a].GetID();c.lastLocationHash="#"+f;try{top.location.hash=f}catch(a){c.O.locationHash=!1}}c.lastOpenAlbumID=c.I[a].GetID(),aa(a);var g=0;c.I[a].paginationLastPage>0&&c.I[a].paginationLastWidth==c.$E.conTnParent.width()&&(g=c.I[a].paginationLastPage),ra(a,g)}}function W(){var a=Y(c.curAlbumIdx),b=a>0;da(a,!1,-1,b)}function X(){var a=Z(c.curAlbumIdx),b=a>0;da(a,!1,-1,b)}function Y(a){for(var b=c.I.length,d=-1,e=a+1;e<b;e++)if(c.I[e].albumID==c.I[a].albumID&&"album"==c.I[e].kind){d=e;break}if(d==-1)for(var e=0;e<=a;e++)if(c.I[e].albumID==c.I[a].albumID&&"album"==c.I[e].kind){d=e;break}return d}function Z(a){for(var d=(c.I.length,-1),e=a-1;e>=0;e--)if(c.I[e].albumID==c.I[a].albumID&&"album"==c.I[e].kind){d=e;break}if(d==-1)for(var e=c.I.length-1;e>=a;e--)if(c.I[e].albumID==c.I[a].albumID&&"album"==c.I[e].kind){d=e;break}return d}function $(a){var b="folder";0==a&&(b="folderHome");var d=jQuery('<div class="'+b+' oneFolder">'+c.I[a].title+"</div>").appendTo(c.$E.conBC);jQuery(d).data("albumIdx",a),d.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),da(a,!1,-1,!0)})}function _(a){var b=jQuery('<div class="separator'+(c.O.RTL?"RTL":"")+'"></div>').appendTo(c.$E.conBC);jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),da(a,!1,-1,!0)})}function aa(a){var d=!1;if(1==c.O.displayBreadcrumb&&!c.O.thumbnailAlbumDisplayImage){if(0==c.$E.conBC.children().length&&c.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),d=!0,c.$E.conBC.children().remove(),$(0),0!=a){var e=c.I.length,g=[];g.push(a);for(var h=a;0!=c.I[h].albumID&&c.I[h].albumID!=-1;)for(i=1;i<e;i++)if(c.I[i].GetID()==c.I[h].albumID){h=i,g.push(h);break}for(_(0),i=g.length-1;i>=0;i--)$(g[i]),i>0&&_(g[i-1])}var j=c.$E.conBC.children(),k=j.length;if(0==k)c.curNavLevel="l1",c.O.breadcrumbAutoHideTopLevel&&(c.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),d=!1);else if(1==k?c.curNavLevel="l1":c.curNavLevel="lN",1==k&&c.O.breadcrumbAutoHideTopLevel){var l=new b;l.tween({from:{opacity:c.$E.conNavBCon.css("opacity"),"max-height":c.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:c.$E.conNavBCon},duration:200,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css({opacity:"0","max-height":"0px"})}})}else if(c.O.breadcrumbAutoHideTopLevel){var l=new b;l.tween({from:{opacity:c.$E.conNavBCon.css("opacity"),"max-height":c.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:c.$E.conNavBCon},duration:200,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css({opacity:"1","max-height":"50px"})}})}else c.$E.conNavBCon.css({opacity:1,"max-height":"50px"});c.pgMaxNbThumbnailsPerRow=ha()}c.O.useTags&&(d=!0,null==c.containerTags&&(c.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(c.$E.conNavB))),c.O.galleryFullpageButton&&(d=!0),!c.containerNavigationbarContDisplayed&&d&&(c.containerNavigationbarContDisplayed=!0,c.$E.conNavBCon.show())}function ba(){c.$E.conLoadingB.addClass("nanoGalleryLBar").removeClass("nanoGalleryLBarOff")}function ca(){c.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")}function da(a,b,d,e){if(c.O.itemsSelectable&&c.O.keepSelection===!1){c.selectedItems=[];for(var f=c.I.length,g=0;g<f;g++)c.I[g].selected=!1}switch(c.O.kind){case"":U(a,e);break;case"flickr":I(a,b,d,e);break;case"json":F(a,b,d,e);break;case"picasa":default:O(a,b,d,e)}}function ea(){"auto"==c.tn.settings.getH()?fa():"auto"==c.tn.settings.getW()?ga():ia(),ma(),la(0)}function fa(){var a=c.$E.conTnParent.width(),b=0,d=0,e=0,f=[],g=ha(),h=0,j=c.O.thumbnailGutterHeight,k=c.tn.outerWidth.get(),l=c.$E.conTn.find(".nanoGalleryThumbnailContainer");"justified"==c.O.thumbnailAlignment?(g=Math.min(g,l.length),h=1==g?0:(a-g*k)/(g-1)):h=c.O.thumbnailGutterWidth;var m=0;l.each(function(){var a=jQuery(this),i=a.data("index");if(void 0!==i){var k=0;if(0!=d)return!1;k=b*(c.tn.outerWidth.get()+h),f[b]=c.I[i].thumbFullHeight+j,b++,m++,b>=g&&(b=0,d++),e++}});var n=f.length*(k+h)-h;d=0,b=0,l.each(function(){var a=jQuery(this),k=a.data("index");if(void 0!==k){"onBottom"==c.O.thumbnailLabel.get("position")&&za(a,c.I[k]);var l=0,m=0;if(0==d)l=b*(c.tn.outerWidth.get()+h),f[b]=c.I[k].thumbFullHeight+j,b++,b>=g&&(b=0,d++);else{var o=0,p=f[0];for(i=1;i<g;i++)if(f[i]+5<p){p=f[i],o=i;break}m=f[o],l=o*(c.tn.outerWidth.get()+h),f[o]=m+c.I[k].thumbFullHeight+j}var q=l;c.O.RTL&&(q=n-l-c.tn.outerWidth.get()),a.css({top:m,left:q}),ja(a,c.I[k],e),e++}});var o=f[0];for(i=1;i<m;i++)o=Math.max(o,f[i]);c.$E.conTn.width(n).height(o)}function ga(){var a=c.$E.conTnParent.width(),b=0,d=0,e=0,f=[],g=0,h=[],i=!1,j=0,k=0,l=0,m=0,n=c.O.thumbnailGutterWidth,o=c.O.thumbnailGutterHeight,p=0,q=0,r=!1,s=!1,t=c.$E.conTn.find(".nanoGalleryThumbnailContainer");t.each(function(){var d=jQuery(this).data("index");if(void 0!==d&&void 0!=c.I[d]){if(!(c.I[d].thumbImg().width>0&&c.I[d].thumbImg().height>0))return!1;var e=c.I[d],k=Math.floor(e.thumbImg().width/e.thumbImg().height*c.tn.settings.getH())+c.tn.borderWidth+c.tn.imgcBorderWidth;if(c.O.thumbnailFeatured&&0==j&&(k*=2,l=k),i&&(i=!1,g++,b=0,r=!1,s=!1,1==g&&l>0&&(b=l,l=0)),e.thumbImg().height>e.thumbImg().width?r=!0:s=!0,b+k+n<a){b+=k+n,h[g]=c.tn.settings.getH();var m=Math.max(r?p:0,s?q:0);c.O.thumbnailAdjustLastRowHeight&&m>0&&(h[g]=Math.min(h[g],m)),f[g]=d}else{b+=k;var o=Math.floor(c.tn.settings.getH()*a/b);h[g]=o,r&&(p=Math.max(p,o)),s&&(q=Math.max(q,o)),f[g]=d,i=!0}j++}}),g=0,e=0,d=0,j=0,t.each(function(){var b=jQuery(this),i=b.data("index");if(void 0!==i&&void 0!=c.I[i]){if(!(c.I[i].thumbImg().width>0&&c.I[i].thumbImg().height>0))return!1;var l=c.I[i],p=Math.floor(l.thumbImg().width/l.thumbImg().height*h[g]);0==j&&c.O.thumbnailFeatured&&(p*=2,k=1==h.length?2*parseInt(h[0]):parseInt(h[0])+parseInt(h[1])+c.tn.borderHeight+c.tn.imgcBorderHeight),i==f[g]&&(f.length!=g+1?p=a-d-c.tn.borderWidth-c.tn.imgcBorderWidth:d+p+c.tn.borderWidth+c.tn.imgcBorderWidth+n>a&&(p=a-d-c.tn.borderWidth-c.tn.imgcBorderWidth));var q=0;0==j&&c.O.thumbnailFeatured||(q=h[g]),q=parseInt(q),p=parseInt(p),b.width(p+c.tn.imgcBorderWidth).height(q+c.tn.imgcBorderHeight+c.tn.labelHeight.get()),l.$getElt(".imgContainer").height(q).width(p),b.find("img").css({"max-height":q+2,"max-width":p+2}),b.find(".subcontainer").width(p+c.tn.imgcBorderWidth).height(q+c.tn.imgcBorderHeight+c.tn.labelHeight.get());var r=d;c.O.RTL&&(r=a-d-(p+c.tn.borderWidth+c.tn.imgcBorderWidth)),b.css({top:e,left:r}),l.thumbFullWidth=p+c.tn.borderWidth+c.tn.imgcBorderWidth,l.thumbFullHeight=q+c.tn.borderHeight+c.tn.imgcBorderHeight+c.tn.labelHeight.get(),Ea(b),ja(b,l,j),d+=p+c.tn.borderWidth+c.tn.imgcBorderWidth+n,i==f[g]&&(e+=h[g]+c.tn.labelHeight.get()+o+c.tn.imgcBorderHeight+c.tn.borderHeight,g++,d=0,1==g&&m>0&&(d=m,m=0)),j++}}),g>0&&(e-=o),k=k+c.tn.outerHeight.get()+c.tn.labelHeight.get(),c.$E.conTn.width(a).height(e>k?e:k)}function ha(){var a=c.tn.settings.getW()+c.tn.borderWidth+c.tn.imgcBorderWidth,b=c.$E.conTnParent.width(),d=0;return d="justified"==c.O.thumbnailAlignment?Math.floor(b/a):Math.floor((b+c.O.thumbnailGutterWidth)/(a+c.O.thumbnailGutterWidth)),c.O.maxItemsPerLine>0&&d>c.O.maxItemsPerLine&&(d=c.O.maxItemsPerLine),d<1&&(d=1),d}function ia(){var a=0,b=0,d=0,e=c.O.thumbnailGutterHeight,f=c.$E.conTnParent.width(),g=ha(),h=0,i=0,j=0,k=[],l=0;
c.L.nbMaxTnPerRow=ha();var m=new Date;if(c.pgMaxLinesPerPage>0&&c.tn.outerWidth.get()>0&&g!=c.pgMaxNbThumbnailsPerRow){c.pgMaxNbThumbnailsPerRow=g;var n=c.$E.conPagin.data("galleryIdx");return void ra(n,0)}var o=c.$E.conTn.find(".nanoGalleryThumbnailContainer"),p=o.length;"justified"==c.O.thumbnailAlignment?(g=Math.min(g,p),d=1==g?0:(f-g*c.tn.outerWidth.get())/(g-1)):d=c.O.thumbnailGutterWidth,c.O.RTL&&(o.each(function(){var f=jQuery(this),h=f.data("index");if(void 0!==h){if(0!=b)return!1;a=l*(c.tn.outerWidth.get()+d),k[l]=a,j=a,l++,l>=g&&(l=0,b+=c.tn.outerHeight.get()+e)}}),f=j+c.tn.outerWidth.get(),b=0,l=0);var q=[],r=0;o.each(function(){var m=jQuery(this),n=m.data("index");if(void 0!==n){r=n,0==b?(a=l*(c.tn.outerWidth.get()+d),k[l]=a,j=a):(a=k[l],i=b);var o=a;c.O.RTL&&(o=parseInt(f)-a-c.tn.outerWidth.get()),q.push({$e:m,t:b,l:o,item:c.I[n]}),l++,l>=g&&(l=0,b+=c.tn.outerHeight.get()+e),h++}});for(var s=q.length,i=0,t=0;t<s;t++)q[t].$e.css({top:q[t].t,left:q[t].l}),ja(q[t].$e,q[t].item,t),i=q[t].t;q=[],c.$E.conTn.width(j+c.tn.outerWidth.get()).height(i+c.tn.outerHeight.get()),c.O.debugMode&&console.log("ResizeGalleryGrid: "+(new Date-m))}function ja(a,b,d){a.hasClass("nanogalleryHideElement")&&(a.removeClass("nanogalleryHideElement"),c.O.thumbnailDisplayTransition?"function"==typeof c.O.fnThumbnailDisplayEffect?c.O.fnThumbnailDisplayEffect(a,b,0):setTimeout(function(){window.requestAnimationFrame(function(){ka(a)})},d*c.tn.displayInterval):a.css({opacity:1}))}function ka(a){var c=new b;c.tween({from:{o:0},to:{o:1},duration:200,step:function(b){a.css({opacity:b.o})},finish:function(b){a.css({opacity:b.o})}})}function la(a){if(c.O.galleryToolbarWidthAligned&&void 0!==c.$E.conNavBCon){var b=c.$E.conTn.outerWidth(!0);c.$E.conNavBCon.width()<b?c.$E.conNavBCon.width(b):c.$E.conNavBCon.width(b)}}function ma(){var a=c.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return ob(jQuery(this),c.tn.lazyLoadTreshold)});jQuery(a).each(function(){var a=jQuery(this).find("img");if(a.attr("src")==c.emptyGif){var b=jQuery(this).data("index");if(void 0==b||void 0==c.I[b])return;a.attr("src",""),a.attr("src",c.I[b].thumbImg().src)}})}function na(b,d){if(void 0!=c.$E.conPagin){if(c.$E.conPagin.children().remove(),0==c.pgMaxLinesPerPage||"auto"==c.tn.settings.getH()||"auto"==c.tn.settings.getW())return void c.$E.conPagin.hide();c.$E.conPagin.show(),c.$E.conPagin.data("galleryIdx",b),c.$E.conPagin.data("currentPageNumber",d);var e=0,f=0;if(!c.O.paginationDots&&d>0){var g=jQuery('<div class="paginationPrev">'+(c.O.paginationDots?"":c.i18nTranslations.paginationPrevious)+"</div>").appendTo(c.$E.conPagin);f+=jQuery(g).outerWidth(!0),g.click(function(a){pa()})}var h=0;if(c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()&&(e=Math.ceil(c.I[b].contentLength/(c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow))),c.O.paginationDots?h=0:d>=5?(h=d-5,e>d+6&&(e=d+6)):e>10&&(e=10),1==e)return void c.$E.conPagin.hide();for(var i=h;i<e;i++){var j="";i==d&&(j=" currentPage");var k=jQuery('<div class="paginationItem'+j+'">'+(c.O.paginationDots?"":i+1)+"</div>").appendTo(c.$E.conPagin);k.data("pageNumber",i),f+=k.outerWidth(!0),k.click(function(b){var d=c.$E.conPagin.data("galleryIdx"),e=jQuery(this).data("pageNumber");pb(c.$E.base,0)||a("html, body").animate({scrollTop:c.$E.base.offset().top},200),ra(d,e)})}if(!c.O.paginationDots&&d+1<e){var l=jQuery('<div class="paginationNext">'+(c.O.paginationDots?"":c.i18nTranslations.paginationNext)+"</div>").appendTo(c.$E.conPagin);f+=l.outerWidth(!0),l.click(function(a){oa()})}c.$E.conPagin.width(f)}}function oa(){var b=c.$E.conPagin.data("galleryIdx"),d=0;c.pgMaxLinesPerPage>0&&(d=c.I[b].contentLength/(c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(d);var e=c.$E.conPagin.data("currentPageNumber");e<n2-1?e++:e=0,pb(c.$E.base,0)||a("html, body").animate({scrollTop:c.$E.base.offset().top},200),ra(b,e)}function pa(){var b=c.$E.conPagin.data("galleryIdx"),d=0;c.pgMaxLinesPerPage>0&&(d=c.I[b].contentLength/(c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(d);var e=c.$E.conPagin.data("currentPageNumber");e>0?e--:e=n2-1,pb(c.$E.base,0)||a("html, body").animate({scrollTop:c.$E.base.offset().top},250),ra(b,e)}function qa(a){var b=c.I.length,d=0,e=a||c.GetCurrentViewedItemIdx();if(e!==-1){for(var f=0;f<b;f++)c.I[f].albumID==c.I[e].albumID&&"image"==c.I[f].kind&&d++;return d}return 0}function ra(a,d){c.curAlbumIdx=-1,void 0==c.$E.conPagin&&c.$E.conPagin.children().remove();var e=c.$E.conTn.parent(),f=new b;f.tween({to:{opacity:0},from:{opacity:1},attachment:{$e:e},duration:150,step:function(a,b){b.$e.css(a)},finish:function(b,e){e.$e.css({opacity:0}),c.containerThumbnailsDisplayed=!1,c.$E.conTn.hide(0).off().show(0).html("");for(var f=c.I.length,g=0;g<f;g++)c.I[g].$Elts=[],c.I[g].$elt=null,c.I[g].hoverInitDone=!1,c.I[g].hovered=!1;c.$E.conTnParent.css({left:0,opacity:1}),o(c.$E.conTn[0],0),sa(a,d,ta)}})}function sa(a,b,d){if(c.O.debugMode&&console.timeline&&console.timeline("nanoGALLERY"),c.startDateTime=new Date,a!=-1&&void 0!=c.I[a]){c.I[a].paginationLastPage=b,c.I[a].paginationLastWidth=c.$E.conTnParent.width();var e=c.I.length,f=!1;c.galleryItemsCount=0;var g=0,h=0,i=0;c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()&&(h=b*c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow,i=h+c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow),ca();var j=!1,k=!1,l=0;!function(){c.toRender=[];for(var i=0;i<c.O.galleryRenderStep;i++){if(l>=e)return void d(a,b);var m=c.I[l];if(m.albumID==c.I[a].GetID()){if(g++,c.pgMaxLinesPerPage>0&&"auto"!=c.tn.settings.getH()&&"auto"!=c.tn.settings.getW()&&c.galleryItemsCount+1>c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow)return void d(a,b);if(g>h){c.galleryItemsCount++;var n=ua(m,l,f),o=n.e$;c.O.thumbnailLazyLoad&&!n.cIS&&(j||(ob(o,c.tn.lazyLoadTreshold)?(m.$getElt("img").attr("src",""),m.$getElt("img").attr("src",m.thumbImg().src),k=!0):k&&(j=!0)))}}l++}var p=c.toRender.length;if(p>0)for(var i=0;i<p;i++);l<e?setTimeout(arguments.callee,2):d(a,b)}()}}function ta(a,b){ea(),na(a,b),c.containerThumbnailsDisplayed=!0,c.curAlbumIdx=a,"function"==typeof c.O.fnInitGallery&&c.O.fnInitGallery(a,b),c.O.debugMode&&console.timeline&&(console.log("End-render: "+(new Date-c.startDateTime)),console.timelineEnd("nanoGALLERY")),c.SetSelectMode()}function ua(a,b,d){var e=[],f=0;a.$Elts=[];var h="",i=" nanogalleryHideElement";c.O.thumbnailLazyLoad&&"auto"==c.tn.settings.getW()&&(h="top:0px;left:0px;"),e[f++]='<div class="nanoGalleryThumbnailContainer'+i+' nGEvent" style="display:block;opacity:0;'+h+'" ><div class="subcontainer nGEvent" style="display:block;">';var j=!1,k=c.emptyGif;("auto"==c.tn.settings.getH()&&0==c.I[b].thumbImg().height||"auto"==c.tn.settings.getW()&&0==c.I[b].thumbImg().width)&&(j=!0),c.O.thumbnailLazyLoad&&!j||(k=a.thumbImg().src);var l=va(a),m=wa(a);if("auto"==c.tn.settings.getH()?e[f++]='<div class="imgContainer nGEvent" style="width:'+c.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+k+'" alt="'+l+'" style="max-width:'+c.tn.settings.getW()+'px;"></div>':"auto"==c.tn.settings.getW()?e[f++]='<div class="imgContainer nGEvent" style="height:'+c.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+k+'" alt="'+l+'" style="max-height:'+c.tn.settings.getH()+'px;" ></div>':e[f++]='<div class="imgContainer nGEvent" style="width:'+c.tn.settings.getW()+"px;height:"+c.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+k+'" alt="'+l+'" style="max-width:'+c.tn.settings.getW()+"px;max-height:"+c.tn.settings.getH()+'px;" ></div>',"album"==a.kind){if(1==c.O.thumbnailLabel.get("display")){if(a.contentLength>0)switch(c.O.thumbnailLabel.get("itemsCount")){case"title":l+=" "+c.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+a.contentLength+"</span>"+c.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":m+=" "+c.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+a.contentLength+"</span>"+c.i18nTranslations.thumbnailLabelItemsCountPart2}e[f++]='<div class="labelImage nGEvent" style="width:'+c.tn.settings.getW()+"px;"+(c.O.RTL?"direction:RTL;":"")+("l1"==c.curNavLevel?c.tn.styleL1LabelImage:c.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+("l1"==c.curNavLevel?c.tn.styleL1FTitle:c.tn.styleFTitle)+'">'+l+'</div><div class="labelDescription nGEvent" style="'+("l1"==c.curNavLevel?c.tn.styleL1Desc:c.tn.styleDesc)+'">'+m+"</div></div>"}}else 1==c.O.thumbnailLabel.get("display")&&(d&&0==m.length&&"onBottom"==c.O.thumbnailLabel.get("position")&&(m="&nbsp;"),e[f++]='<div class="labelImage nGEvent" style="width:'+c.tn.settings.getW()+"px;"+(c.O.RTL?"direction:RTL;":"")+("l1"==c.curNavLevel?c.tn.styleL1LabelImage:c.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+("l1"==c.curNavLevel?c.tn.styleL1ITitle:c.tn.styleITitle)+'">'+l+'</div><div class="labelDescription nGEvent" style="'+("l1"==c.curNavLevel?c.tn.styleL1Desc:c.tn.styleDesc)+'">'+m+"</div></div>");if(e[f++]="</div>",c.O.itemsSelectable){if(a.selected=!1,c.O.keepSelection===!0)for(it in c.selectedItems)c.selectedItems[it].GetID()===a.GetID()&&(a.selected=!0);c.O.showCheckboxes&&(checked="",a.selected&&(checked="checked"),e[f++]='<input class="ngChekbox" type="checkbox" '+checked+' style="position:absolute;z-index:999;'+c.O.checkboxStyle+'">')}e[f++]="</div>";var o=jQuery(e.join("")).appendTo(c.$E.conTnHid);"undefined"!=typeof a.selected&&a.selected===!0&&o.find(".subcontainer").addClass("selected"),a.$elt=o,o.data("index",b),a.$getElt("img").data("index",b),"function"==typeof c.O.fnThumbnailInit&&c.O.fnThumbnailInit(o,a,g());var p=o.detach();if(p.appendTo(c.$E.conTn),j){var q=ngimagesLoaded(o);q.on("always",function(a){var b=c.I[jQuery(a.images[0].img).data("index")];if(void 0!=b&&a.images[0].img.src!=c.emptyGif){var d=!1;b.thumbImg().height!=a.images[0].img.naturalHeight&&(b.thumbSetImgHeight(a.images[0].img.naturalHeight),b.thumbSetImgWidth(a.images[0].img.naturalWidth),d=!0),b.thumbImg().width!=a.images[0].img.naturalWidth&&(b.thumbSetImgHeight(a.images[0].img.naturalHeight),b.thumbSetImgWidth(a.images[0].img.naturalWidth),d=!0),d&&(Ca(b.$elt),za(b.$elt,b),Ea(b.$elt),ea())}})}else Ca(o),za(o,a),Ea(o);return{e$:o,cIS:j}}function va(a){var b=a.title;return 1==c.O.thumbnailLabel.get("display")&&(void 0!==b&&0!=b.length||(b="&nbsp;"),""!=c.i18nTranslations.thumbnailImageTitle&&(b=c.i18nTranslations.thumbnailImageTitle),c.O.thumbnailLabel.get("titleMaxLength")>3&&b.length>c.O.thumbnailLabel.get("titleMaxLength")&&(b=b.substring(0,c.O.thumbnailLabel.get("titleMaxLength"))+"...")),b}function wa(a){var b="";return 1==c.O.thumbnailLabel.get("displayDescription")&&(b="album"==a.kind?""!=c.i18nTranslations.thumbnailImageDescription?c.i18nTranslations.thumbnailAlbumDescription:a.description:""!=c.i18nTranslations.thumbnailImageDescription?c.i18nTranslations.thumbnailImageDescription:a.description,c.O.thumbnailLabel.get("descriptionMaxLength")>3&&b.length>c.O.thumbnailLabel.get("descriptionMaxLength")&&(b=b.substring(0,c.O.thumbnailLabel.get("descriptionMaxLength"))+"...")),b}function xa(a,b,d){var e=a.$elt,f=e.find("input[type=checkbox]");"image"!==c.selectMode&&"album"!==c.selectMode||a.kind===c.selectMode?("undefined"==typeof b?a.selected=!a.selected:a.selected=b,d!==!1&&f.prop("checked",a.selected),a.selected?a.$getElt(".subcontainer").addClass("selected"):a.$getElt(".subcontainer").removeClass("selected")):(a.selected=!1,f.prop("checked",!1),a.$getElt(".subcontainer").removeClass("selected")),ya(),"function"==typeof c.O.fnThumbnailSelection&&c.O.fnThumbnailSelection(e,a)}function ya(){var a;c.O.keepSelection===!0&&(a=c.selectedItems.slice(0)),c.selectedItems=[];for(var b=c.I.length,d=0;d<b;d++)c.I[d].selected===!0&&c.selectedItems.push(c.I[d]);if(c.O.keepSelection===!0){for(d in a){alreadyExists=!1;for(var e=0;e<b;e++)c.I[e].GetID()===a[d].GetID()&&(alreadyExists=!0);alreadyExists===!1&&c.selectedItems.push(a[d])}a=[]}c.selectedItems.length>0||1==c.selectModeForce?(c.I.forEach(function(a){null===a.$elt||a.$elt.hasClass("selectable")||(1==c.selectModeForce&&a.kind===c.selectMode||1==c.selectMode)&&a.$elt.addClass("selectable")}),c.selectMode!==!0&&"image"!==c.selectMode&&"album"!==c.selectMode&&(c.selectMode=!0)):(c.I.forEach(function(a){null!==a.$elt&&a.$elt.removeClass("selectable")}),c.selectMode=!1),"function"==typeof c.O.fnChangeSelectMode&&c.O.fnChangeSelectMode(c.selectMode)}function za(a,b){if("auto"==c.tn.settings.getH()){if(b.thumbImg().height>0){var d=b.thumbImg().height/b.thumbImg().width;b.$getElt(".imgContainer").height(c.tn.settings.getW()*d),"onBottom"==c.O.thumbnailLabel.get("position")?(b.thumbLabelHeight=b.$getElt(".labelImage").outerHeight(!0),b.thumbFullHeight=c.tn.settings.getW()*d+b.thumbLabelHeight+c.tn.borderHeight+c.tn.imgcBorderHeight,a.width(c.tn.outerWidth.get()-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight),b.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(b.thumbFullHeight=c.tn.settings.getW()*d+b.thumbLabelHeight+c.tn.borderHeight+c.tn.imgcBorderHeight,a.width(c.tn.outerWidth.get()-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight))}b.thumbFullWidth=c.tn.outerWidth.get(),b.$getElt(".subcontainer").width(c.tn.outerWidth.get()-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight)}else if("auto"==c.tn.settings.getW()){return;var d}else b.thumbFullHeight=c.tn.outerHeight.get(),b.thumbFullWidth=c.tn.outerWidth.get(),"onBottom"==c.O.thumbnailLabel.get("position")?a.width(b.thumbFullWidth-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight):a.width(b.thumbFullWidth-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight),b.$getElt(".subcontainer").width(b.thumbFullWidth-c.tn.borderWidth).height(b.thumbFullHeight-c.tn.borderHeight)}function Ba(){for(var a=c.I.length,b=0;b<a;b++)c.I[b].hovered&&Ma(c.I[b].$elt)}function Ca(a){var b=a.data("index");if(void 0!=b){var d=c.I[b];for("function"==typeof c.O.fnThumbnailHoverInit&&c.O.fnThumbnailHoverInit(a,d,g()),Ga(d),j=0;j<c.tn.getHE().length;j++)switch(c.tn.getHE()[j].name){case"imageSplit4":var e=d.$getElt(".subcontainer"),f=d.$getElt(".labelImage"),h=d.$getElt(".imgContainer");h.css({position:"absolute"}),e.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),e.prepend(h.clone()),e.prepend(d.$getElt(".imgContainer",!0).clone()),h=d.$getElt(".imgContainer",!0),qb("",h),Fa(d,"imgContainer0",h.eq(0)),Ia(d,"imgContainer0"),Fa(d,"imgContainer1",h.eq(1)),Ia(d,"imgContainer1"),Fa(d,"imgContainer2",h.eq(2)),Ia(d,"imgContainer2"),Fa(d,"imgContainer3",h.eq(3)),Ia(d,"imgContainer3");break;case"imageSplitVert":var e=d.$getElt(".subcontainer"),h=d.$getElt(".imgContainer");h.css({position:"absolute"}),e.css({overflow:"hidden",position:"relative"}),e.prepend(h.clone()),h=d.$getElt(".imgContainer",!0),qb("",h),Fa(d,"imgContainer0",h.eq(0)),Ia(d,"imgContainer0"),Fa(d,"imgContainer1",h.eq(1)),Ia(d,"imgContainer1");break;case"labelSplit4":var e=d.$getElt(".subcontainer"),f=d.$getElt(".labelImage").css({top:0,bottom:0});e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),d.$getElt(".labelImage",!0).clone().appendTo(e),f=d.$getElt(".labelImage",!0),Fa(d,"labelImage0",f.eq(0)),Ia(d,"labelImage0"),Fa(d,"labelImage1",f.eq(1)),Ia(d,"labelImage1"),Fa(d,"labelImage2",f.eq(2)),Ia(d,"labelImage2"),Fa(d,"labelImage3",f.eq(3)),Ia(d,"labelImage3");break;case"labelSplitVert":var e=d.$getElt(".subcontainer"),f=d.$getElt(".labelImage");e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),f=d.$getElt(".labelImage",!0),Fa(d,"labelImage0",f.eq(0)),Ia(d,"labelImage0"),Fa(d,"labelImage1",f.eq(1)),Ia(d,"labelImage1");break;case"labelAppearSplit4":var e=d.$getElt(".subcontainer");f=d.$getElt(".labelImage"),f.css({left:0,top:0,right:0,bottom:0}),e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),d.$getElt(".labelImage",!0).clone().appendTo(e),f=d.$getElt(".labelImage",!0);var i=Fa(d,"labelImage0",f.eq(0));i.translateX=-d.thumbFullWidth/2,i.translateY=-d.thumbFullHeight/2,Ia(d,"labelImage0"),i=Fa(d,"labelImage1",f.eq(1)),i.translateX=d.thumbFullWidth/2,i.translateY=-d.thumbFullHeight/2,Ia(d,"labelImage1"),i=Fa(d,"labelImage2",f.eq(2)),i.translateX=d.thumbFullWidth/2,i.translateY=d.thumbFullHeight/2,Ia(d,"labelImage2"),i=Fa(d,"labelImage3",f.eq(3)),i.translateX=-d.thumbFullWidth/2,i.translateY=d.thumbFullHeight/2,Ia(d,"labelImage3");break;case"labelAppearSplitVert":var e=d.$getElt(".subcontainer"),f=d.$getElt(".labelImage");e.css({overflow:"hidden",position:"relative"}),f.clone().appendTo(e),f=d.$getElt(".labelImage",!0),Fa(d,"labelImage0",f.eq(0)).translateX=-d.thumbFullWidth/2,Ia(d,"labelImage0"),Fa(d,"labelImage1",f.eq(1)).translateX=d.thumbFullWidth/2,Ia(d,"labelImage1");break;case"imageScale150Outside":c.$E.base.css({overflow:"visible"}),c.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),d.$getElt(".subcontainer").css({overflow:"visible"}),d.$getElt(".imgContainer").css({overflow:"visible"}),Fa(d,"img0",d.$getElt("img")),Ia(d,"img0"),qb(d.$getElt(".imgContainer"),d.$getElt(".labelImage"));break;case"scale120":c.$E.base.hasClass("fullpage")||c.$E.base.css({overflow:"visible"}),c.$E.conTn.css({overflow:"visible"}),Fa(d,"base",a),Ia(d,"base");break;case"scaleLabelOverImage":var k=d.$getElt(".imgContainer"),l=d.$getElt(".labelImage");qb(k,l),l.css({opacity:0}),Fa(d,"labelImage0",l).scale=50,Ia(d,"labelImage0"),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"overScale":a.css({overflow:"hidden"});var k=d.$getElt(".imgContainer"),l=d.$getElt(".labelImage");qb("",l),l.css({opacity:0}),k.css({opacity:1}),Fa(d,"labelImage0",l).scale=150,Ia(d,"labelImage0"),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"overScaleOutside":c.$E.base.hasClass("fullpage")||c.$E.base.css({overflow:"visible"}),c.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"});var k=d.$getElt(".imgContainer"),l=d.$getElt(".labelImage");qb("",l),l.css({opacity:0}),k.css({opacity:1}),Fa(d,"labelImage0",l).scale=150,Ia(d,"labelImage0"),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"rotateCornerBL":a.css({overflow:"hidden"});var k=d.$getElt(".labelImage");k.css({opacity:1}),k[0].style[c.CSStransformName+"Origin"]="100% 100%",Fa(d,"labelImage0",k).rotateZ=-90,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k[0].style[c.CSStransformName+"Origin"]="100% 100%",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"rotateCornerBR":a.css({overflow:"hidden"});var k=d.$getElt(".labelImage");k.css({opacity:1}),k[0].style[c.CSStransformName+"Origin"]="0% 100%",Fa(d,"labelImage0",k).rotateZ=90,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k[0].style[c.CSStransformName+"Origin"]="0 100%",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"imageRotateCornerBL":var k=d.$getElt(".imgContainer");qb(a,k),a.css({overflow:"hidden"}),d.$getElt(".labelImage").css({opacity:1}),k[0].style[c.CSStransformName+"Origin"]="bottom right",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"imageRotateCornerBR":var k=d.$getElt(".imgContainer");qb(a,k),a.css({overflow:"hidden"}),d.$getElt(".labelImage").css({opacity:1}),k[0].style[c.CSStransformName+"Origin"]="0 100%",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"slideUp":a.css({overflow:"hidden"}),k=d.$getElt(".labelImage"),k.css({opacity:1,top:0}),Fa(d,"labelImage0",k).translateY=d.thumbFullHeight,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k.css({left:0,top:0}),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"slideDown":a.css({overflow:"hidden"}),k=d.$getElt(".labelImage"),k.css({opacity:1,top:0}),Fa(d,"labelImage0",k).translateY=-d.thumbFullHeight,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k.css({left:0,top:0}),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"slideRight":a.css({overflow:"hidden"}),k=d.$getElt(".labelImage"),k.css({opacity:1,top:0}),Fa(d,"labelImage0",k).translateX=-d.thumbFullWidth,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k.css({left:0,top:0}),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"slideLeft":a.css({overflow:"hidden"}),k=d.$getElt(".labelImage"),k.css({opacity:1,top:0}),Fa(d,"labelImage0",k).translateX=d.thumbFullWidth,Ia(d,"labelImage0"),k=d.$getElt(".imgContainer"),k.css({left:0,top:0}),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":k=d.$getElt(".imgContainer"),qb(a,k),a.css({overflow:"visible"}),d.$getElt(".labelImage").css({opacity:1}),k.css({left:0,top:0}),Fa(d,"imgContainer0",k),Ia(d,"imgContainer0");break;case"labelAppear":case"labelAppear75":var m="rgb("+c.custGlobals.oldLabelRed+","+c.custGlobals.oldLabelGreen+","+c.custGlobals.oldLabelBlue+",0.01)";d.$getElt(".labelImage").css({backgroundColor:m}),"album"==d.kind?d.$getElt(".labelFolderTitle").css({opacity:0}):d.$getElt(".labelImageTitle").css({opacity:0}),d.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":d.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":a.css({overflow:"hidden"}),d.$getElt(".labelImage").css({top:0,bottom:0}),Fa(d,"labelImage0",d.$getElt(".labelImage")).translateY=d.thumbFullHeight,Ia(d,"labelImage0");break;case"labelSlideUp":a.css({overflow:"hidden"}),Fa(d,"labelImage0",d.$getElt(".labelImage")).translateY=d.thumbFullHeight,Ia(d,"labelImage0");break;case"labelSlideDown":a.css({overflow:"hidden"}),Fa(d,"labelImage0",d.$getElt(".labelImage")).translateY=-d.thumbFullHeight,Ia(d,"labelImage0");break;case"descriptionSlideUp":a.css({overflow:"hidden"});var n="album"==d.kind?d.$getElt(".labelFolderTitle").outerHeight(!0):d.$getElt(".labelImageTitle").outerHeight(!0);d.$getElt(".labelDescription").css({opacity:0}),d.$getElt(".labelImage").css({height:n}),Fa(d,"labelImage0",d.$getElt(".labelImage")),Ia(d,"labelImage0");break;case"imageExplode":qb("",a),qb(d.$getElt(".labelImage"),d.$getElt(".imgContainer"));for(var e=d.$getElt(".subcontainer"),b=7,h=(d.thumbFullHeight,d.$getElt(".imgContainer")),p=h.outerWidth(!0)/b,q=h.outerHeight(!0),q=h.outerHeight(!0)/b,r=0;r<b;r++)for(var m=0;m<b;m++){var s="rect("+q*r+"px, "+p*(m+1)+"px, "+q*(r+1)+"px, "+p*m+"px)";h.clone().appendTo(e).css({top:0,scale:1,clip:s,left:0,position:"absolute"}).data("ngScale",1)}h.remove();break;case"imageFlipHorizontal":switch(c.O.thumbnailLabel.get("position")){case"overImageOnTop":d.$getElt(".labelImage").css({top:-c.tn.imgcBorderHeight/2,bottom:c.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":d.$getElt(".labelImage").css({top:-c.tn.imgcBorderHeight/2,bottom:c.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:d.$getElt(".labelImage").css({bottom:c.tn.imgcBorderWidth/2,left:0,right:0})}c.$E.base.hasClass("fullpage")||c.$E.base.css({overflow:"visible"}),c.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),qb("",a),qb(d.$getElt(".labelImage"),d.$getElt(".imgContainer"));var k=d.$getElt(".subcontainer");k.css({overflow:"visible"}),k[0].style[c.CSStransformStyle]="preserve-3d";var b=Math.round(1.2*d.thumbFullHeight)+"px";k[0].style[c.CSSperspective]=b,k=d.$getElt(".imgContainer"),k[0].style[c.CSSbackfaceVisibilityName]="hidden",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0"),a.find(".image")[0].style[c.CSSbackfaceVisibilityName]="hidden",k=d.$getElt(".labelImage"),k[0].style[c.CSSbackfaceVisibilityName]="hidden",Fa(d,"labelImage0",k).rotateX=180,Ia(d,"labelImage0");break;case"imageFlipVertical":switch(c.O.thumbnailLabel.get("position")){case"overImageOnTop":d.$getElt(".labelImage").css({top:-c.tn.imgcBorderHeight/2,bottom:c.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":d.$getElt(".labelImage").css({top:-c.tn.imgcBorderHeight/2,bottom:c.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:d.$getElt(".labelImage").css({bottom:c.tn.imgcBorderWidth/2,left:0,right:0})}c.$E.base.hasClass("fullpage")||c.$E.base.css({overflow:"visible"}),c.$E.conTn.css({overflow:"visible"}),a.css({overflow:"visible"}),qb("",a),qb(d.$getElt(".labelImage"),d.$getElt(".imgContainer"));var k=d.$getElt(".subcontainer");k.css({overflow:"visible"}),k[0].style[c.CSStransformStyle]="preserve-3d";var b=Math.round(1.2*d.thumbFullWidth)+"px";k[0].style[c.CSSperspective]=b,k=d.$getElt(".imgContainer"),k[0].style[c.CSSbackfaceVisibilityName]="hidden",Fa(d,"imgContainer0",k),Ia(d,"imgContainer0"),a.find(".image")[0].style[c.CSSbackfaceVisibilityName]="hidden",k=d.$getElt(".labelImage"),k[0].style[c.CSSbackfaceVisibilityName]="hidden",Fa(d,"labelImage0",k).rotateY=180,Ia(d,"labelImage0");break;case"imageScale150":a.css({overflow:"hidden"}),Fa(d,"img0",d.$getElt("img")),Ia(d,"img0");break;case"imageScaleIn80":a.css({overflow:"hidden"}),Fa(d,"img0",d.$getElt("img")).scale=120,Ia(d,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":a.css({overflow:"hidden"}),d.customData.hoverEffectRDir=c.tn.getHE()[j].name,Da(a,d);break;case"imageSlide2Random":a.css({overflow:"hidden"});var t=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];d.customData.hoverEffectRDir=t[Math.floor(Math.random()*t.length)],Da(a,d)}d.hoverInitDone=!0}}function Da(a,b){var c=b.thumbFullWidth,d=b.thumbFullHeight,f=Fa(b,"img0",b.$getElt("img"));switch(f.scale=140,b.customData.hoverEffectRDir){case"imageSlide2Up":f.translateY=b.thumbFullHeight<1.4*b.thumbImg().height?(1.4*b.thumbImg().height-b.thumbFullHeight)/2:0,f.translateX=b.thumbFullWidth<1.4*b.thumbImg().width?-(1.4*b.thumbImg().width-b.thumbFullWidth)/2:0;break;case"imageSlide2Down":var g=b.thumbFullHeight<1.4*b.thumbImg().height?Math.min((1.4*b.thumbImg().height-b.thumbFullHeight)/2*.1,.1*d):0;f.translateY=-g;var h=b.thumbFullWidth<1.4*b.thumbImg().width?Math.min((1.4*b.thumbImg().width-b.thumbFullWidth)/2*.1,.1*c):0;f.translateX=h;break;case"imageSlide2Left":f.translateY=.1*-d,f.translateX=.1*c;break;case"imageSlide2Right":f.translateY=.1*-d,f.translateX=.1*-c;break;case"imageSlide2UpRight":f.translateY=.05*d,f.translateX=.05*-c;break;case"imageSlide2UpLeft":f.translateY=.05*d,f.translateX=.05*c;break;case"imageSlide2DownRight":f.translateY=.05*-d,f.translateX=.05*-c;break;case"imageSlide2DownLeft":f.translateY=.05*-d,f.translateX=.05*c}Ia(b,"img0")}function Ea(a){var b=a.data("index");if(void 0!=b){var d=c.I[b];if(!d.hoverInitDone)return void Ca(a);for("function"==typeof c.O.fnThumbnailHoverResize&&c.O.fnThumbnailHoverResize(a,d,g()),j=0;j<c.tn.getHE().length;j++)switch(c.tn.getHE()[j].name){case"imageSplit4":var e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight,h=d.$getElt(".imgContainer"),i="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)";h.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",h.eq(1).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",h.eq(2).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",h.eq(3).css({clip:i});break;case"imageSplitVert":var h=d.$getElt(".imgContainer"),e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight,i="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";h.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",h.eq(1).css({clip:i});break;case"labelSplit4":var e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight,k=d.$getElt(".labelImage");i="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)",k.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",k.eq(1).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",k.eq(2).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",k.eq(3).css({clip:i});break;case"labelSplitVert":var e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight,k=d.$getElt(".labelImage"),i="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";k.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",k.eq(1).css({clip:i});break;case"labelAppearSplit4":var e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight;k=d.$getElt(".labelImage");var i="rect(0px, "+Math.ceil(e/2)+"px, "+Math.ceil(f/2)+"px, 0px)";k.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px)",k.eq(1).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",k.eq(2).css({clip:i}),i="rect("+Math.ceil(f/2)+"px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)",k.eq(3).css({clip:i}),d.eltTransform.labelImage0.translateX=-d.thumbFullWidth/2,d.eltTransform.labelImage0.translateY=-d.thumbFullHeight/2,Ia(d,"labelImage0"),d.eltTransform.labelImage1.translateX=d.thumbFullWidth/2,d.eltTransform.labelImage1.translateY=-d.thumbFullHeight/2,Ia(d,"labelImage1"),d.eltTransform.labelImage2.translateX=d.thumbFullWidth/2,d.eltTransform.labelImage2.translateY=d.thumbFullHeight/2,Ia(d,"labelImage2"),d.eltTransform.labelImage3.translateX=-d.thumbFullWidth/2,d.eltTransform.labelImage3.translateY=d.thumbFullHeight/2,Ia(d,"labelImage3");break;case"labelAppearSplitVert":var e=d.thumbFullWidth-c.tn.borderWidth-c.tn.imgcBorderWidth,f=d.thumbFullHeight-c.tn.borderHeight-c.tn.imgcBorderHeight;k=d.$getElt(".labelImage");var i="rect(0px, "+Math.ceil(e/2)+"px, "+f+"px, 0px)";k.eq(0).css({clip:i}),i="rect(0px, "+e+"px, "+f+"px, "+Math.ceil(e/2)+"px)",k.eq(1).css({clip:i}),d.eltTransform.labelImage0.translateX=-d.thumbFullWidth/2,Ia(d,"labelImage0"),d.eltTransform.labelImage1.translateX=d.thumbFullWidth/2,Ia(d,"labelImage1");break;case"slideUp":d.eltTransform.labelImage0.translateY=d.thumbFullHeight,Ia(d,"labelImage0");break;case"slideDown":d.eltTransform.labelImage0.translateY=-d.thumbFullHeight,Ia(d,"labelImage0");break;case"slideRight":d.eltTransform.labelImage0.translateX=-d.thumbFullWidth,Ia(d,"labelImage0");break;case"slideLeft":d.eltTransform.labelImage0.translateX=d.thumbFullWidth,Ia(d,"labelImage0");break;case"imageExplode":for(var h=(d.$getElt(".subcontainer"),d.$getElt(".imgContainer")),b=Math.sqrt(h.length),e=h.eq(0).outerWidth(!0)/b,f=h.eq(0).outerHeight(!0)/b,n=0;n<b;n++)for(var o=0;o<b;o++)var i="rect("+f*n+"px, "+e*(o+1)+"px, "+f*(n+1)+"px, "+e*o+"px)";break;case"imageFlipHorizontal":var p=d.$getElt(".subcontainer"),b=Math.round(1.2*d.thumbFullHeight)+"px";p[0].style[c.CSSperspective]=b;break;case"imageFlipVertical":var p=d.$getElt(".subcontainer"),b=Math.round(1.2*d.thumbFullWidth)+"px";p[0].style[c.CSSperspective]=b;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":Da(a,d);break;case"slideUp":d.eltTransform.labelImage0.translateY=d.thumbFullHeight,Ia(d,"labelImage0");break;case"slideDown":d.eltTransform.labelImage0.translateY=-d.thumbFullHeight,Ia(d,"labelImage0");break;case"slideRight":d.eltTransform.labelImage0.translateX=-d.thumbFullWidth,Ia(d,"labelImage0");break;case"slideLeft":d.eltTransform.labelImage0.translateX=d.thumbFullWidth,Ia(d,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":d.eltTransform.labelImage0.translateY=d.thumbFullHeight,Ia(d,"labelImage0");break;case"labelSlideDown":a.css({overflow:"hidden"}),d.eltTransform.labelImage0.translateY=-d.thumbFullHeight,Ia(d,"labelImage0");break;case"descriptionSlideUp":}}}function Fa(a,b,c){return void 0==a.eltTransform[b]&&(a.eltTransform[b]=Ha(),a.eltTransform[b].$elt=c),a.eltTransform[b];
}function Ga(a){for(var b in a.eltTransform)delete a.eltTransform[b]}function Ha(){var a={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100};return a}function Ia(a,b){var d=a.eltTransform[b],e="translateX("+d.translateX+"px) translateY("+d.translateY+"px) scale("+d.scale/100+")";e+=c.IE<=9||c.isGingerbread?" rotate("+d.rotateZ+"deg)":" rotateX("+d.rotateX+"deg) rotateY("+d.rotateY+"deg) rotateZ("+d.rotateZ+"deg)",void 0!=d.$elt[0]&&(d.$elt[0].style[c.CSStransformName]=e)}function Ja(a,d,e,f,g){var h=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==c.aengine)for(var i=0;i<h.length;i++){var j=h[i];if("undefined"!=typeof e[j]){var k=new b,l=parseInt(e[j]);k.tween({attachment:{it:f,eC:g,t:j,f:l},from:{v:parseInt(f.eltTransform[g][j])},to:{v:l},duration:c.tn.getHE()[d].duration,delay:c.tn.getHE()[d].delay,step:function(a,b){b.it.hovered&&(b.it.eltTransform[b.eC][b.t]=a.v,Ia(b.it,b.eC))},finish:function(a,b){b.it.hovered&&(b.it.eltTransform[b.eC][b.t]=b.f,Ia(b.it,b.eC))}}),delete e[j]}}var m=0;for(var n in e)if(e.hasOwnProperty(n)){m++;break}if(0!=m)if("transition"!=c.aengine){var o={};for(var n in e)"borderColor"==n?o[n]=a.css("borderTopColor"):o[n]=a.css(n),"transparent"==o[n]&&(a.hasClass("labelImage")?o[n]="rgb("+c.custGlobals.oldLabelRed+","+c.custGlobals.oldLabelGreen+","+c.custGlobals.oldLabelBlue+",0.01)":o[n]="rgba(0,0,0,0)");var k=new b;k.tween({attachment:{$e:a,it:f,to:e},from:o,to:e,duration:c.tn.getHE()[d].duration,delay:c.tn.getHE()[d].delay,step:function(a,b){b.it.hovered&&b.$e.css(a)},finish:function(a,b){b.it.hovered&&b.$e.css(e)}})}else c.tn.getHE()[d].delay>0?a.delay(c.tn.getHE()[d].delay)[c.aengine](e,c.tn.getHE()[d].duration,c.tn.getHE()[d].easing):a[c.aengine](e,c.tn.getHE()[d].duration,c.tn.getHE()[d].easing)}function Ka(a){var b=a.data("index");if(void 0!=b){"velocity"==c.aengine?a.find("*").velocity("stop",!0):a.find("*").stop(!0,!1);var d=c.I[b];d.hovered=!0;var e="animate"==c.aengine?1:100;"function"==typeof c.O.fnThumbnailHover&&c.O.fnThumbnailHover(a,d,g());try{for(j=0;j<c.tn.getHE().length;j++)switch(c.tn.getHE()[j].name){case"imageSplit4":var f=d.$getElt(".imgContainer");Ja(f.eq(0),j,{translateX:-d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"imgContainer0"),Ja(f.eq(1),j,{translateX:d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"imgContainer1"),Ja(f.eq(2),j,{translateX:d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"imgContainer2"),Ja(f.eq(3),j,{translateX:-d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"imgContainer3");break;case"imageSplitVert":var f=d.$getElt(".imgContainer");Ja(f.eq(0),j,{translateX:-d.thumbFullWidth/2},d,"imgContainer0"),Ja(f.eq(1),j,{translateX:d.thumbFullWidth/2},d,"imgContainer1");break;case"labelSplit4":var f=d.$getElt(".labelImage");Ja(f.eq(0),j,{translateX:-d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"labelImage0"),Ja(f.eq(1),j,{translateX:d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"labelImage1"),Ja(f.eq(2),j,{translateX:d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"labelImage2"),Ja(f.eq(3),j,{translateX:-d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"labelImage3");break;case"labelSplitVert":var f=d.$getElt(".labelImage");Ja(f.eq(0),j,{translateX:-d.thumbFullWidth/2},d,"labelImage0"),Ja(f.eq(1),j,{translateX:d.thumbFullWidth/2},d,"labelImage1");break;case"labelAppearSplit4":var f=d.$getElt(".labelImage");Ja(f.eq(0),j,{translateX:0,translateY:0},d,"labelImage0"),Ja(f.eq(1),j,{translateX:0,translateY:0},d,"labelImage1"),Ja(f.eq(2),j,{translateX:0,translateY:0},d,"labelImage2"),Ja(f.eq(3),j,{translateX:0,translateY:0},d,"labelImage3");break;case"labelAppearSplitVert":var f=d.$getElt(".labelImage");Ja(f.eq(0),j,{translateX:0},d,"labelImage0"),Ja(f.eq(1),j,{translateX:0},d,"labelImage1");break;case"scaleLabelOverImage":Ja(d.$getElt(".labelImage"),j,{scale:100/e,opacity:"1"},d,"labelImage0"),Ja(d.$getElt(".imgContainer"),j,{scale:50/e},d,"imgContainer0");break;case"overScale":case"overScaleOutside":Ja(d.$getElt(".labelImage"),j,{opacity:"1",scale:100/e},d,"labelImage0"),Ja(d.$getElt(".imgContainer"),j,{opacity:"0",scale:50/e},d,"imgContainer0");break;case"imageInvisible":Ja(d.$getElt(".imgContainer"),j,{opacity:"0"},d);break;case"rotateCornerBL":var h="transition"==c.aengine?{rotate:"0deg"}:{rotateZ:"0"};Ja(d.$getElt(".labelImage"),j,h,d,"labelImage0"),h="transition"==c.aengine?{rotate:"90deg"}:{rotateZ:"90"},Ja(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"rotateCornerBR":var h="transition"==c.aengine?{rotate:"0deg"}:{rotateZ:"0"};Ja(d.$getElt(".labelImage"),j,h,d,"labelImage0"),h="transition"==c.aengine?{rotate:"-90deg"}:{rotateZ:"-90"},Ja(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"imageRotateCornerBL":var h="transition"==c.aengine?{rotate:"90deg"}:{rotateZ:"90"};Ja(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"imageRotateCornerBR":var h="transition"==c.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};Ja(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"slideUp":Ja(d.$getElt(".imgContainer"),j,{translateY:-d.thumbFullHeight},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{translateY:0},d,"labelImage0");break;case"slideDown":Ja(d.$getElt(".imgContainer"),j,{translateY:d.thumbFullHeight},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{translateY:0},d,"labelImage0");break;case"slideRight":Ja(d.$getElt(".imgContainer"),j,{translateX:d.thumbFullWidth},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{translateX:0},d,"labelImage0");break;case"slideLeft":Ja(d.$getElt(".imgContainer"),j,{translateX:-d.thumbFullWidth},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{translateX:0},d,"labelImage0");break;case"imageSlideUp":Ja(d.$getElt(".imgContainer"),j,{translateY:-d.thumbFullHeight},d,"imgContainer0");break;case"imageSlideDown":Ja(d.$getElt(".imgContainer"),j,{translateY:d.thumbFullHeight},d,"imgContainer0");break;case"imageSlideLeft":Ja(d.$getElt(".imgContainer"),j,{translateX:-d.thumbFullWidth},d,"imgContainer0");break;case"imageSlideRight":Ja(d.$getElt(".imgContainer"),j,{translateX:d.thumbFullWidth},d,"imgContainer0");break;case"labelAppear":if("velocity"==c.aengine)Ja(d.$getElt(".labelImage"),j,{backgroundColorRed:c.custGlobals.oldLabelRed,backgroundColorGreen:c.custGlobals.oldLabelGreen,backgroundColorBlue:c.custGlobals.oldLabelBlue,backgroundColorAlpha:1},d);else{var i="rgba("+c.custGlobals.oldLabelRed+","+c.custGlobals.oldLabelGreen+","+c.custGlobals.oldLabelBlue+",0.99)";Ja(d.$getElt(".labelImage"),j,{backgroundColor:i},d)}"album"==d.kind?Ja(d.$getElt(".labelFolderTitle"),j,{opacity:"1"},d):Ja(d.$getElt(".labelImageTitle"),j,{opacity:"1"},d),Ja(d.$getElt(".labelDescription"),j,{opacity:"1"},d);break;case"labelAppear75":if("velocity"==c.aengine)Ja(d.$getElt(".labelImage"),j,{backgroundColorRed:c.custGlobals.oldLabelRed,backgroundColorGreen:c.custGlobals.oldLabelGreen,backgroundColorBlue:c.custGlobals.oldLabelBlue,backgroundColorAlpha:.75},d);else{var i="rgba("+c.custGlobals.oldLabelRed+","+c.custGlobals.oldLabelGreen+","+c.custGlobals.oldLabelBlue+",0.75)";Ja(d.$getElt(".labelImage"),j,{backgroundColor:i},d)}"album"==d.kind?Ja(d.$getElt(".labelFolderTitle"),j,{opacity:"1"},d):Ja(d.$getElt(".labelImageTitle"),j,{opacity:"1"},d),Ja(d.$getElt(".labelDescription"),j,{opacity:"1"},d);break;case"descriptionAppear":Ja(d.$getElt(".labelDescription"),j,{opacity:"1"},d);break;case"labelSlideDown":Ja(d.$getElt(".labelImage"),j,{translateY:0},d,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":Ja(d.$getElt(".labelImage"),j,{translateY:0},d,"labelImage0");break;case"descriptionSlideUp":var k="album"==d.kind?d.$getElt(".labelFolderTitle").outerHeight(!0):d.$getElt(".labelImageTitle").outerHeight(!0),l=d.$getElt(".labelDescription").outerHeight(!0),m=d.thumbFullHeight-k-l;m<0&&(m=0),Ja(d.$getElt(".labelImage"),j,{translateY:0,height:k+l},d,"labelImage0"),Ja(d.$getElt(".labelDescription"),j,{opacity:"1"},d);break;case"labelOpacity50":Ja(d.$getElt(".labelImage"),j,{opacity:"0.5"},d);break;case"imageOpacity50":Ja(d.$getElt(".imgContainer"),j,{opacity:"0.5"},d);break;case"borderLighter":if("velocity"==c.aengine){var n=wb(c.custGlobals.oldBorderColor,.5),o=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).split(/,\s*/);Ja(a,j,{borderColorRed:o[0],borderColorGreen:o[1],borderColorBlue:o[2],colorAlpha:o[3]},d)}else{var i=a.css("borderTopColor");a.data("ngcache_borderColor",i),Ja(a,j,{borderColor:wb(i,.5)},d)}break;case"borderDarker":if("velocity"==c.aengine){var n=xb(c.custGlobals.oldBorderColor,.5),o=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).split(/,\s*/);Ja(a,j,{borderColorRed:o[0],borderColorGreen:o[1],borderColorBlue:o[2],colorAlpha:o[3]},d)}else{var i=a.css("borderTopColor");a.data("ngcache_borderColor",i),Ja(a,j,{borderColor:xb(i,.5)},d)}break;case"imageScale150":Ja(d.$getElt("img"),j,{scale:150/e},d,"img0");break;case"imageScaleIn80":Ja(d.$getElt("img"),j,{scale:100/e},d,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(d.customData.hoverEffectRDir){case"imageSlide2Up":var p=d.thumbFullHeight<1.4*d.imgHeight?(1.4*d.imgHeight-d.thumbFullHeight)/2:0;Ja(d.$getElt("img"),j,{translateY:-p},d,"img0");break;case"imageSlide2Down":var p=d.thumbFullHeight<1.4*d.imgHeight?(1.4*d.imgHeight-d.thumbFullHeight)/2:0;Ja(d.$getElt("img"),j,{translateY:p},d,"img0");break;case"imageSlide2Left":Ja(d.$getElt("img"),j,{translateX:.1*-d.thumbFullWidth},d,"img0");break;case"imageSlide2Right":Ja(d.$getElt("img"),j,{translateX:.1*d.thumbFullWidth},d,"img0");break;case"imageSlide2UpRight":Ja(d.$getElt("img"),j,{translateY:.05*-d.thumbFullHeight,translateX:.05*d.thumbFullWidth},d,"img0");break;case"imageSlide2UpLeft":Ja(d.$getElt("img"),j,{translateY:.05*-d.thumbFullHeight,translateX:.05*-d.thumbFullWidth},d,"img0");break;case"imageSlide2DownRight":Ja(d.$getElt("img"),j,{translateY:.05*d.thumbFullHeight,translateX:.05*d.thumbFullWidth},d,"img0");break;case"imageSlide2DownLeft":Ja(d.$getElt("img"),j,{translateY:.05*d.thumbFullHeight,translateX:.05*-d.thumbFullWidth},d,"img0")}break;case"imageScale150Outside":qb("",a),Ja(d.$getElt("img"),j,{scale:150/e},d,"img0");break;case"scale120":qb("",a),Ja(a,j,{scale:120/e},d,"base");break;case"imageExplode":qb("",a);var q=d.$getElt(".imgContainer");b=Math.sqrt(q.length);for(var r=[],s=0;s<=Math.PI;s+=Math.PI/(b-1))r.push(Math.sin(s));for(var t=q.outerWidth(!0)/b,u=q.outerHeight(!0)/b,s=0,h=0;h<b;h++)for(var i=0;i<b;i++)Ja(q.eq(s++),j,{top:(-u*b/3+u*h-u)*r[i],left:(-t*b/3+t*i-t)*r[h],scale:1.5,opacity:0},d);break;case"imageFlipHorizontal":qb("",a),Ja(d.$getElt(".imgContainer"),j,{rotateX:180},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{rotateX:360},d,"labelImage0");break;case"imageFlipVertical":qb("",a),Ja(d.$getElt(".imgContainer"),j,{rotateY:180},d,"imgContainer0"),Ja(d.$getElt(".labelImage"),j,{rotateY:360},d,"labelImage0");break;case"TEST":}}catch(a){lb("error on hover "+a.message)}}}function La(a,d,e,f,g){var h=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==c.aengine)for(var i=0;i<h.length;i++){var j=h[i];if("undefined"!=typeof e[j]){var k=new b,l=parseInt(e[j]);k.tween({attachment:{it:f,eC:g,t:j,f:l},from:{v:parseInt(f.eltTransform[g][j])},to:{v:l},duration:c.tn.getHE()[d].durationBack,delay:c.tn.getHE()[d].delayBack,step:function(a,b){b.it.eltTransform[b.eC][b.t]=a.v,Ia(b.it,b.eC)},finish:function(a,b){b.it.eltTransform[b.eC][b.t]=b.f,Ia(b.it,b.eC)}}),delete e[j]}}var m=0;for(var n in e)if(e.hasOwnProperty(n)){m++;break}if(0!=m)if("transition"!=c.aengine){var o={};for(var n in e)"borderColor"==n?o[n]=a.css("borderTopColor"):(o[n]=a.css(n),"transparent"==o[n]&&(o[n]="rgba(0,0,0,0.01)"));var k=new b;k.tween({attachment:{$e:a,it:f,to:e},from:o,to:e,duration:c.tn.getHE()[d].durationBack,delay:c.tn.getHE()[d].delayBack,step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css(b.to)}})}else c.tn.getHE()[d].delay>0?a.delay(c.tn.getHE()[d].delay)[c.aengine](e,c.tn.getHE()[d].durationBack,c.tn.getHE()[d].easingBack):a[c.aengine](e,c.tn.getHE()[d].durationBack,c.tn.getHE()[d].easingBack)}function Ma(a){if(!c.containerViewerDisplayed){var b=a.data("index");if(void 0!=b){"velocity"==c.aengine?a.find("*").velocity("stop",!0):a.find("*").filter(":animated").stop(!0,!1);var d=c.I[b];d.hovered=!1;var e="animate"==c.aengine?1:100;"function"==typeof c.O.fnThumbnailHoverOut&&c.O.fnThumbnailHoverOut(a,d,g());try{for(j=0;j<c.tn.getHE().length;j++)switch(c.tn.getHE()[j].name){case"imageSplit4":var f=d.$getElt(".imgContainer");La(f.eq(0),j,{translateX:0,translateY:0},d,"imgContainer0"),La(f.eq(1),j,{translateX:0,translateY:0},d,"imgContainer1"),La(f.eq(2),j,{translateX:0,translateY:0},d,"imgContainer2"),La(f.eq(3),j,{translateX:0,translateY:0},d,"imgContainer3");break;case"imageSplitVert":var f=d.$getElt(".imgContainer");La(f.eq(0),j,{translateX:0},d,"imgContainer0"),La(f.eq(1),j,{translateX:0},d,"imgContainer1");break;case"labelSplit4":var f=d.$getElt(".labelImage");La(f.eq(0),j,{translateX:0,translateY:0},d,"labelImage0"),La(f.eq(1),j,{translateX:0,translateY:0},d,"labelImage1"),La(f.eq(2),j,{translateX:0,translateY:0},d,"labelImage2"),La(f.eq(3),j,{translateX:0,translateY:0},d,"labelImage3");break;case"labelSplitVert":var f=d.$getElt(".labelImage");La(f.eq(0),j,{translateX:0},d,"labelImage0"),La(f.eq(1),j,{translateX:0},d,"labelImage1");break;case"labelAppearSplit4":var f=d.$getElt(".labelImage");La(f.eq(0),j,{translateX:-d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"labelImage0"),La(f.eq(1),j,{translateX:d.thumbFullWidth/2,translateY:-d.thumbFullHeight/2},d,"labelImage1"),La(f.eq(2),j,{translateX:d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"labelImage2"),La(f.eq(3),j,{translateX:-d.thumbFullWidth/2,translateY:d.thumbFullHeight/2},d,"labelImage3");break;case"labelAppearSplitVert":var f=d.$getElt(".labelImage");La(f.eq(0),j,{translateX:-d.thumbFullWidth/2},d,"labelImage0"),La(f.eq(1),j,{translateX:d.thumbFullWidth/2},d,"labelImage1");break;case"scaleLabelOverImage":La(d.$getElt(".labelImage"),j,{opacity:"0",scale:50/e},d,"labelImage0"),La(d.$getElt(".imgContainer"),j,{scale:100/e},d,"imgContainer0");break;case"overScale":case"overScaleOutside":La(d.$getElt(".labelImage"),j,{opacity:"0",scale:150/e},d,"labelImage0"),La(d.$getElt(".imgContainer"),j,{opacity:"1",scale:100/e},d,"imgContainer0");break;case"imageInvisible":La(d.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var h="transition"==c.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};La(d.$getElt(".labelImage"),j,h,d,"labelImage0"),h="transition"==c.aengine?{rotate:"0deg"}:{rotateZ:"0"},La(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"rotateCornerBR":var h="transition"==c.aengine?{rotate:"90deg"}:{rotateZ:"90"};La(d.$getElt(".labelImage"),j,h,d,"labelImage0"),h="transition"==c.aengine?{rotate:"0deg"}:{rotateZ:"0"},La(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":var h="transition"==c.aengine?{rotate:"0deg"}:{rotateZ:"0"};La(d.$getElt(".imgContainer"),j,h,d,"imgContainer0");break;case"slideUp":La(d.$getElt(".imgContainer"),j,{translateY:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{translateY:d.thumbFullHeight},d,"labelImage0");break;case"slideDown":La(d.$getElt(".imgContainer"),j,{translateY:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{translateY:-d.thumbFullHeight},d,"labelImage0");break;case"slideRight":La(d.$getElt(".imgContainer"),j,{translateX:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{translateX:-d.thumbFullWidth},d,"labelImage0");break;case"slideLeft":La(d.$getElt(".imgContainer"),j,{translateX:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{translateX:d.thumbFullWidth},d,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":La(d.$getElt(".imgContainer"),j,{translateY:0},d,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":La(d.$getElt(".imgContainer"),j,{translateX:0},d,"imgContainer0");break;case"labelAppear":case"labelAppear75":if("velocity"==c.aengine)La(d.$getElt(".labelImage"),j,{backgroundColorRed:c.custGlobals.oldLabelRed,backgroundColorGreen:c.custGlobals.oldLabelGreen,backgroundColorBlue:c.custGlobals.oldLabelBlue,backgroundColorAlpha:0});else{var i="rgba("+c.custGlobals.oldLabelRed+","+c.custGlobals.oldLabelGreen+","+c.custGlobals.oldLabelBlue+",0.01)";La(d.$getElt(".labelImage"),j,{backgroundColor:i})}"album"==d.kind?La(d.$getElt(".labelFolderTitle"),j,{opacity:"0"}):La(d.$getElt(".labelImageTitle"),j,{opacity:"0"}),La(d.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":La(d.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":La(d.$getElt(".labelImage"),j,{translateY:-d.thumbFullHeight},d,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":La(d.$getElt(".labelImage"),j,{translateY:d.thumbFullHeight},d,"labelImage0");break;case"descriptionSlideUp":var k="album"==d.kind?d.$getElt(".labelFolderTitle").outerHeight(!0):d.$getElt(".labelImageTitle").outerHeight(!0);d.thumbFullHeight-k-c.tn.borderHeight-c.tn.imgcBorderHeight;La(d.$getElt(".labelImage"),j,{translateY:0,height:k},d,"labelImage0");break;case"labelOpacity50":La(d.$getElt(".labelImage"),j,{opacity:c.custGlobals.oldLabelOpacity});break;case"imageOpacity50":La(d.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if("velocity"==c.aengine){var m=c.custGlobals.oldBorderColor,n=m.substring(m.indexOf("(")+1,m.lastIndexOf(")")).split(/,\s*/);La(a,j,{borderColorRed:n[0],borderColorGreen:n[1],borderColorBlue:n[2],colorAlpha:n[3]})}else La(a,j,{borderColor:a.data("ngcache_borderColor")});break;case"imageScale150":case"imageScale150Outside":La(d.$getElt("img"),j,{scale:100/e},d,"img0");break;case"imageScaleIn80":La(d.$getElt("img"),j,{scale:120/e},d,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(d.customData.hoverEffectRDir){case"imageSlide2Up":var o=d.thumbFullHeight<1.4*d.imgHeight?(1.4*d.imgHeight-d.thumbFullHeight)/2:0;La(d.$getElt("img"),j,{translateY:o},d,"img0");break;case"imageSlide2Down":var o=d.thumbFullHeight<1.4*d.imgHeight?(1.4*d.imgHeight-d.thumbFullHeight)/2:0;La(d.$getElt("img"),j,{translateY:-o},d,"img0");break;case"imageSlide2Left":La(d.$getElt("img"),j,{translateX:.1*d.thumbFullWidth},d,"img0");break;case"imageSlide2Right":La(d.$getElt("img"),j,{translateX:.1*-d.thumbFullWidth},d,"img0");break;case"imageSlide2UpRight":La(d.$getElt("img"),j,{translateY:.05*d.thumbFullHeight,translateX:.05*-d.thumbFullWidth},d,"img0");break;case"imageSlide2UpLeft":La(d.$getElt("img"),j,{translateY:.05*d.thumbFullHeight,translateX:.05*d.thumbFullWidth},d,"img0");break;case"imageSlide2DownRight":La(d.$getElt("img"),j,{translateY:.05*-d.thumbFullHeight,translateX:.05*-d.thumbFullWidth},d,"img0");break;case"imageSlide2DownLeft":La(d.$getElt("img"),j,{translateY:.05*-d.thumbFullHeight,translateX:.05*d.thumbFullWidth},d,"img0")}break;case"scale120":La(a,j,{scale:100/e},d,"base");break;case"imageExplode":var p=d.$getElt(".imgContainer");b=Math.sqrt(p.length);for(var q=0,h=0;h<b;h++)for(var i=0;i<b;i++)La(p.eq(q++),j,{top:"0",left:"0",scale:"1",opacity:"1"});break;case"imageFlipHorizontal":La(d.$getElt(".imgContainer"),j,{rotateX:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{rotateX:180},d,"labelImage0");break;case"imageFlipVertical":La(d.$getElt(".imgContainer"),j,{rotateY:0},d,"imgContainer0"),La(d.$getElt(".labelImage"),j,{rotateY:180},d,"labelImage0");break;case"TEST":}}catch(a){lb("error on hoverOut "+a.message)}}}}function Na(a){if(c.O.thumbnailOpenImage)return"function"==typeof c.O.fnThumbnailOpen?void hb(a):void("fancybox"==c.O.viewer?ib(a):c.containerViewerDisplayed?_a(a,""):Oa(a))}function Oa(a){jQuery("body").css({overflow:"hidden"}),c.containerViewerDisplayed=!0,c.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),c.$E.conVwCon.addClass("nanogallery_theme_"+c.O.theme),kb(c.$E.conVwCon),c.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(c.$E.conVwCon),c.$E.conVw.css({visibility:"visible",position:"fixed"}),c.$E.conVw.css({msTouchAction:"none",touchAction:"none"});var b="";c.I.length;b+='<img class="image nGEvent" src="'+c.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',b+='<img class="image nGEvent" src="'+c.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',b+='<img class="image nGEvent" src="'+c.I[a].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',c.$E.vwContent=jQuery('<div class="content nGEvent">'+b+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(c.$E.conVw),c.$E.vwImgP=c.$E.conVw.find(".image").eq(0),c.$E.vwImgC=c.$E.conVw.find(".image").eq(1),c.$E.vwImgN=c.$E.conVw.find(".image").eq(2),c.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var e=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(c.$E.conVw);e.on("touchstart click",function(a){if(a.preventDefault(),a.stopPropagation(),!((new Date).getTime()-c.timeImgChanged<400))return fb(!0),!1});for(var f='<div class="toolbarContainer nGEvent" style="visibility:'+(c.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">',h=c.O.viewerToolbar.standard.split(","),i=0,j=h.length;i<j;i++)f+=Pa(h[i]);for(var k=c.O.viewerToolbar.minimized.split(","),i=0,l=k.length;i<l;i++)c.O.viewerToolbar.standard.indexOf(k[i])==-1&&(f+=Pa(k[i]));f+="</div></div>",c.$E.conVwTb=jQuery(f).appendTo(c.$E.conVw),"min"==c.toolbarMode||c.O.viewerToolbar.autoMinimize>0&&c.O.viewerToolbar.autoMinimize>=nb().w?Wa():Va(),c.O.viewerFullscreen&&(c.viewerIsFullscreen=!0,c.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"),ngscreenfull.request()),c.O.viewerDisplayLogo&&(c.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(c.$E.conVw)),qb("",c.$E.conVw),qb(c.$E.conVw,e),gb(),c.timeImgChanged=(new Date).getTime(),c.$E.conVwTb.find(".closeButton").on("touchstart click",function(a){a.preventDefault(),a.stopPropagation(),(new Date).getTime()-c.timeImgChanged<400||fb(!0)}),c.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(a){a.stopPropagation(),Ta()}),c.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(a){a.stopPropagation(),Ua()}),c.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(a){a.stopPropagation(),Sa()}),c.$E.conVwTb.find(".infoButton").on("touchstart click",function(a){a.stopPropagation(),"function"==typeof c.O.fnViewerInfo&&c.O.fnViewerInfo(c.I[c.viewerCurrentItemIdx],g())}),c.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(a){if(a.stopPropagation(),"function"==typeof c.O.fnImgToolbarCustClick){for(var b=a.target||a.srcElement;null==b||null==b.getAttribute("class")||b.getAttribute("class").indexOf("ngCustomBtn")==-1;)b=b.parentNode;var d=b.getAttribute("class");if(d.indexOf("ngCustomBtn")>=0)for(var e=d.split(" "),f=0,h=e.length;f<h;f++)0==e[f].indexOf("custom")&&c.O.fnImgToolbarCustClick(e[f],jQuery(b),c.I[c.viewerCurrentItemIdx],g())}}),c.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(a){if(a.stopPropagation(),"picasa"==c.O.kind){var b="https://plus.google.com/photos/"+c.O.userID+"/albums/"+c.I[c.viewerCurrentItemIdx].albumID+"/"+c.I[c.viewerCurrentItemIdx].GetID();window.open(b,"_blank")}if("flickr"==c.O.kind){var b="https://www.flickr.com/photos/"+c.O.userID+"/"+c.I[c.viewerCurrentItemIdx].GetID();window.open(b,"_blank")}}),c.$E.conVwTb.find(".nextButton").on("touchstart click",function(a){a.stopPropagation(),Ya()}),c.$E.conVwTb.find(".previousButton").on("touchstart click",function(a){a.stopPropagation(),$a()}),c.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(a){a.stopPropagation(),Ya()}),c.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(a){a.stopPropagation(),$a()}),c.$E.vwContent.on("click",function(a){if(!((new Date).getTime()-c.timeImgChanged<400))return a.preventDefault(),a.stopPropagation(),fb(!0),!1}),c.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"}),_a(a,""),null==c.viewerSwipe&&(c.viewerSwipe=new Qa(c.$E.conVwCon[0])),c.O.slideshowAutoStart&&(c.playSlideshow=!0,c.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Za(),c.playSlideshowTimerID=window.setInterval(function(){Za()},c.slideshowDelay))}function Pa(a){var b="",d=a.replace(/^\s+|\s+$/g,"");switch(d){case"minimizeButton":b='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":b='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":b='<div class="pageCounter nGEvent"></div>';break;case"nextButton":b='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":b='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":c.supportFullscreenAPI&&(b='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>');break;case"infoButton":"function"==typeof c.O.fnViewerInfo&&(b='<div class="ngbt infoButton nGEvent"></div>');break;case"linkOriginalButton":"flickr"!=c.O.kind&&"picasa"!=c.O.kind||(b='<div class="ngbt linkOriginalButton nGEvent"></div>');break;case"closeButton":b='<div class="ngbt closeButton nGEvent"></div>';break;case"label":b='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:0==d.indexOf("custom")&&(b='<div class="ngbt ngCustomBtn '+d+' nGEvent">'+("function"==typeof c.O.fnImgToolbarCustInit?c.O.fnImgToolbarCustInit(d):"")+"</div>")}return b}function Qa(a){function i(a){c.containerViewerDisplayed&&(c.timeLastTouchStart=(new Date).getTime(),a.preventDefault(),a.touches&&a.touches.length>1||(e=m(a),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",j,!0),document.addEventListener("MSPointerUp",k,!0)):(document.addEventListener("touchmove",j,!0),document.addEventListener("touchend",k,!0),document.addEventListener("touchcancel",k,!0),document.addEventListener("mousemove",j,!0),document.addEventListener("mouseup",k,!0))))}function j(a){a.preventDefault(),f=m(a),d||(d=!0,window.requestAnimationFrame(n))}function k(a){a.cancelable&&a.preventDefault(),a.touches&&a.touches.length>0||(d=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",j,!0),document.removeEventListener("MSPointerUp",k,!0)):(document.removeEventListener("touchmove",j,!0),document.removeEventListener("touchend",k,!0),document.removeEventListener("touchcancel",k,!0),document.removeEventListener("mousemove",j,!0),document.removeEventListener("mouseup",k,!0)),l())}function l(){if(null==f)return g=0,void(e=null);var a=e.x-f.x;g-=a,a<-50&&$a(),a>50&&Ya(),g=0,e=null,f=null,Math.abs(a)<50&&Ra(g)}function m(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function n(){if(d){var a=e.x-f.x;Ra(g-a),d=!1}}var b=a,d=!1,e=null,f=null,g=0;this.removeEventListeners=function(){window.navigator.msPointerEnabled?(b.removeEventListener("MSPointerDown",i,!0),document.removeEventListener("MSPointerMove",j,!0),document.removeEventListener("MSPointerUp",k,!0)):(b.removeEventListener("touchstart",i,!0),document.removeEventListener("touchmove",j,!0),document.removeEventListener("touchend",k,!0),document.removeEventListener("touchcancel",k,!0),document.removeEventListener("mousemove",j,!0),document.removeEventListener("mouseup",k,!0))},window.navigator.msPointerEnabled?b.addEventListener("MSPointerDown",i,!0):b.addEventListener("touchstart",i,!0)}function Ra(a){if(c.imageSwipePosX=a,null==c.CSStransformName)c.$E.vwImgC.css({left:a});else if(c.$E.vwImgC[0].style[c.CSStransformName]="translateX("+a+"px)","slide"==c.O.imageTransition)if(a>0){var d=(c.$E.vwImgP,nb().w);c.$E.vwImgP.css({visibility:"visible",left:0,opacity:1}),c.$E.vwImgP[0].style[c.CSStransformName]="translateX("+(-d+a)+"px) ",c.$E.vwImgN[0].style[c.CSStransformName]="translateX("+-d+"px) "}else{var d=(c.$E.vwImgN,-nb().w);c.$E.vwImgN.css({visibility:"visible",left:0,opacity:1}),c.$E.vwImgN[0].style[c.CSStransformName]="translateX("+(-d+a)+"px) ",c.$E.vwImgP[0].style[c.CSStransformName]="translateX("+-d+"px) "}}function Sa(){ngscreenfull.enabled&&(ngscreenfull.toggle(),c.viewerIsFullscreen?(c.viewerIsFullscreen=!1,c.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(c.viewerIsFullscreen=!0,c.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")))}function Ta(){c.playSlideshow?(window.clearInterval(c.playSlideshowTimerID),c.playSlideshow=!1,c.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(c.playSlideshow=!0,c.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Za(),c.playSlideshowTimerID=window.setInterval(function(){Za()},c.slideshowDelay))}function Ua(){"std"==c.toolbarMode?Wa():Va()}function Va(){c.toolbarMode="std",c.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton"),Xa("std"),gb()}function Wa(){c.toolbarMode="min",c.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton"),Xa("min"),gb()}function Xa(a){for(var b=c.O.viewerToolbar,b="std"==a?c.O.viewerToolbar.standard:c.O.viewerToolbar.minimized,d=["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"],e=0,f=d.length;e<f;e++)"label"==d[e]&&""==c.$E.conVwTb.find(".title").text()&&""==c.$E.conVwTb.find(".description").text()?c.$E.conVwTb.find("."+d[e]).css({display:"none"}):c.$E.conVwTb.find("."+d[e]).css({display:b.indexOf(d[e])>=0?"table-cell":"none"});c.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});for(var g=b.split(","),e=0,f=g.length;e<f;e++){var h=g[e].replace(/^\s+|\s+$/g,"");0==h.indexOf("custom")&&c.$E.conVwTb.find("."+h).css({display:"table-cell"})}}function Ya(){c.playSlideshow&&(window.clearInterval(c.playSlideshowTimerID),c.playSlideshowTimerID=window.setInterval(function(){Za()},c.slideshowDelay)),Za()}function Za(){if(!(c.viewerImageIsChanged||(new Date).getTime()-c.timeImgChanged<300)){var b=(c.I.length,bb(c.viewerCurrentItemIdx));_a(b,"nextImage")}}function $a(){if(!(c.viewerImageIsChanged||(new Date).getTime()-c.timeImgChanged<300)){c.playSlideshow&&Ta();var a=cb(c.viewerCurrentItemIdx);_a(a,"previousImage")}}function _a(a,d){c.timeImgChanged=(new Date).getTime(),c.viewerImageIsChanged=!0;if(c.O.locationHash){var f="nanogallery/"+c.baseEltID+"/"+c.I[a].albumID+"/"+c.I[a].GetID();if("#"+f!=location.hash){c.lastLocationHash="#"+f;try{top.location.hash=f}catch(a){c.O.locationHash=!1}}else try{c.lastLocationHash=top.location.hash}catch(a){c.O.locationHash=!1}}if(c.O.debugMode&&console.timeline&&console.timeline("nanoGALLERYviewer"),c.viewerResizeTimerID=window.setTimeout(gb,100),c.viewerCurrentItemIdx=a,
""==d){c.$E.vwImgC.css({opacity:0,left:0,visibility:"visible"}).attr("src",c.emptyGif).attr("src",c.I[a].responsiveURL());var g=new b;g.tween({from:{o:0},to:{o:1},attachment:{idx:a,dT:d},duration:400,step:function(a,b){c.$E.vwImgC.css({opacity:a.o})},finish:function(a,b){c.$E.vwImgC.css({opacity:1}),ab(b.idx,b.dT)}})}else switch(c.O.imageTransition){case"fade":var h="nextImage"==d?c.$E.vwImgN:c.$E.vwImgP;h.css({opacity:0,left:0,visibility:"visible"});var g=new b;g.tween({from:{o:0},to:{o:1},attachment:{idx:a,dT:d,$e:h},duration:300,step:function(a,b){c.$E.vwImgC.css({opacity:1-a.o}),b.$e.css({opacity:a.o})},finish:function(a,b){c.$E.vwImgC.css({opacity:0}),b.$e.css({opacity:1}),ab(b.idx,b.dT)}});break;case"slideBETA":var h="nextImage"==d?c.$E.vwImgN:c.$E.vwImgP;if(h.css({opacity:1,left:0,visibility:"visible"}),null==c.CSStransformName)jQuery.when(c.$E.vwImgC.animate({left:("nextImage"==d?-nb().w:nb().w)+"px",opacity:0},500),h.animate({opacity:1},300)).done(function(){ab(a,d)});else{var i="nextImage"==d?-nb().w:nb().w;h[0].style[c.CSStransformName]="translateX("+-i+"px) ";var j={v:c.imageSwipePosX},k={v:"nextImage"==d?-nb().w:nb().w};jQuery(j).animate(k,{duration:500,step:function(a){c.$E.vwImgC[0].style[c.CSStransformName]="translateX("+a+"px)",c.$E.vwImgC.css({opacity:1-Math.abs(a/i)}),h[0].style[c.CSStransformName]="translateX("+(-i+a)+"px) "},complete:function(){c.$E.vwImgC[0].style[c.CSStransformName]="",c.$E.vwImgC.css({opacity:0}),ab(a,d)}})}break;case"slideOLD":var h="nextImage"==d?c.$E.vwImgN:c.$E.vwImgP;if(null==c.CSStransformName)h.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(c.$E.vwImgC.animate({left:("nextImage"==d?-nb().w:nb().w)+"px"},500),h.animate({opacity:1},300)).done(function(){ab(a,d)});else{h.css({opacity:1,left:0,visibility:"visible"});var i="nextImage"==d?-nb().w:nb().w;h[0].style[c.CSStransformName]="translateX("+-i+"px) ";var j={v:c.imageSwipePosX},k={v:"nextImage"==d?-nb().w:nb().w};jQuery(j).animate(k,{duration:400,easing:"linear",step:function(a){window.requestAnimationFrame(function(){c.$E.vwImgC[0].style[c.CSStransformName]="translateX("+a+"px)",h[0].style[c.CSStransformName]="translateX("+(-i+a)+"px) "})},complete:function(){window.requestAnimationFrame(function(){c.$E.vwImgC[0].style[c.CSStransformName]="",ab(a,d)})}})}break;case"slide":var h="nextImage"==d?c.$E.vwImgN:c.$E.vwImgP;if(null==c.CSStransformName)h.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(c.$E.vwImgC.animate({left:2*("nextImage"==d?-nb().w:nb().w)+"px"},500),h.animate({opacity:1},300)).done(function(){ab(a,d)});else{var i="nextImage"==d?-nb().w:nb().w;h.css({opacity:1,left:0,visibility:"visible"}),h[0].style[c.CSStransformName]="translateX("+-i+"px) ";var g=new b;g.tween({from:{t:c.imageSwipePosX},to:{t:"nextImage"==d?-nb().w:nb().w},attachment:{idx:a,dT:d,$e:h,dir:i},duration:300,step:function(a,b){c.$E.vwImgC[0].style[c.CSStransformName]="translateX("+a.t+"px)",b.$e[0].style[c.CSStransformName]="translateX("+(-b.dir+a.t)+"px) "},finish:function(a,b){c.$E.vwImgC[0].style[c.CSStransformName]="",b.$e[0].style[c.CSStransformName]="",ab(b.idx,b.dT)}})}break;case"slideAppear":default:var i=nb().w+"px",h=c.$E.vwImgP;"nextImage"==d&&(i="-"+i,h=c.$E.vwImgN),h.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(c.$E.vwImgC.animate({left:i,opacity:0},500),h.animate({opacity:1},300)).done(function(){Ra(0),ab(a,d)})}}function ab(a,b){if(eb(a),c.O.debugMode&&console.timeline&&console.timelineEnd("nanoGALLERYviewer"),"function"!=typeof c.O.fnImgDisplayed||c.O.fnImgDisplayed(c.I[a].$elt,c.I[a])){c.imageSwipePosX=0,c.$E.vwImgC.off("click"),c.$E.vwImgC.removeClass("imgCurrent");var d=c.$E.vwImgC;switch(b){case"nextImage":c.$E.vwImgC=c.$E.vwImgN,c.$E.vwImgN=d;break;case"previousImage":c.$E.vwImgC=c.$E.vwImgP,c.$E.vwImgP=d}c.$E.vwImgC.addClass("imgCurrent"),c.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",c.emptyGif).attr("src",c.I[bb(a)].responsiveURL()),c.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",c.emptyGif).attr("src",c.I[cb(a)].responsiveURL()),c.$E.vwImgC.on("click",function(a){a.stopPropagation(),a.pageX<jQuery(window).width()/2?$a():Ya()}),gb(),c.viewerImageIsChanged=!1}}function bb(a){for(var b=c.I.length,d=-1,e=a+1;e<b;e++)if(c.I[e].albumID==c.I[a].albumID&&"image"==c.I[e].kind){d=e;break}if(d==-1)for(var e=0;e<=a;e++)if(c.I[e].albumID==c.I[a].albumID&&"image"==c.I[e].kind){d=e;break}return d}function cb(a){for(var b=-1,d=a-1;d>=0;d--)if(c.I[d].albumID==c.I[a].albumID&&"image"==c.I[d].kind){b=d;break}if(b==-1)for(var d=c.I.length-1;d>=a;d--)if(c.I[d].albumID==c.I[a].albumID&&"image"==c.I[d].kind){b=d;break}return b}function eb(a){if(c.O.viewerToolbar.display){c.$E.conVwTb.css({visibility:"visible"});var b=!1;void 0!==c.I[a].title&&""!=c.I[a].title?(c.$E.conVwTb.find(".title").html(c.I[a].title),b=!0):c.$E.conVwTb.find(".title").html(""),void 0!==c.I[a].description&&""!=c.I[a].description?(c.$E.conVwTb.find(".description").html(c.I[a].description),b=!0):c.$E.conVwTb.find(".description").html("");var d=c.$E.conVwTb.find(".ngCustomBtn");d.length>0&&"function"==typeof c.O.fnImgToolbarCustDisplay&&c.O.fnImgToolbarCustDisplay(d,c.I[a],g()),b&&("std"==c.toolbarMode?c.O.viewerToolbar.standard:c.O.viewerToolbar.minimized).indexOf("label")>=0?c.$E.conVwTb.find(".label").show():c.$E.conVwTb.find(".label").hide();var e=qa();e>0&&c.$E.conVwTb.find(".pageCounter").html(c.I[a].imageNumber+1+"/"+e)}}function fb(a){if(c.viewerImageIsChanged&&c.$E.vwContent.find("*").stop(!0,!0),c.viewerImageIsChanged=!1,c.containerViewerDisplayed){if(window.clearTimeout(c.viewerResizeTimerID),c.playSlideshow&&(window.clearInterval(c.playSlideshowTimerID),c.playSlideshow=!1),c.viewerSwipe.removeEventListeners(),c.viewerSwipe=null,c.O.galleryFullpageButton&&c.$E.base.hasClass("fullpage")||m(),c.viewerIsFullscreen&&(c.viewerIsFullscreen=!1,ngscreenfull.exit()),c.$E.conVwCon.hide(0).off().show(0).html("").remove(),c.containerViewerDisplayed=!1,c.albumIdxToOpenOnViewerClose!=-1)U(c.albumIdxToOpenOnViewerClose,!0);else{if(c.O.locationHash&&a){var b=c.I[c.viewerCurrentItemIdx].albumID,d="nanogallery/"+c.baseEltID+"/"+b;c.lastLocationHash="#"+d;try{top.location.hash=d}catch(a){c.O.locationHash=!1}}Ba()}c.timeImgChanged=(new Date).getTime()}}function gb(){c.containerViewerDisplayed&&((new Date).getTime()-c.viewerResizeTimerLastRun<100||window.requestAnimationFrame(function(){var a=c.$E.conVw.width(),b=c.$E.conVw.height(),d=c.$E.vwImgC,e=d.height(),f=d.width(),g=d.outerHeight(!0),h=d.outerHeight(!1),i=c.$E.conVwTb.find(".toolbar"),j=i.outerHeight(!0);e<=40||!c.O.viewerToolbar.display?c.$E.conVwTb.css({visibility:"hidden"}):c.$E.conVwTb.css({visibility:"visible"});var k=Math.abs(c.$E.vwContent.outerHeight(!0)-c.$E.vwContent.height()),l=Math.abs(c.$E.vwContent.outerWidth(!0)-c.$E.vwContent.width()),m=h-d.innerHeight(),n=Math.abs(d.outerWidth(!1)-d.innerWidth()),o=Math.abs(d.innerHeight()-e),p=Math.abs(d.innerWidth()-f),q=m+o,r=n+p,s=0;"innerImage"!=c.O.viewerToolbar.style&&(s=j);var t=b-s-k,u=a-l;switch(c.O.viewerToolbar.position){case"top":c.$E.vwContent.css({height:t,width:u,top:s});var v=0;"innerImage"==c.O.viewerToolbar.style&&(v=Math.abs(g-e)/2+5),"stuckImage"==c.O.viewerToolbar.style&&(v=Math.abs(g-e)/2-q),c.$E.conVwTb.css({top:v});break;case"bottom":default:c.$E.vwContent.css({height:t,width:u});var v=0;"innerImage"==c.O.viewerToolbar.style&&(v=Math.abs(g-e)/2+5),"stuckImage"==c.O.viewerToolbar.style&&(v=Math.abs(g-e)/2-q),c.$E.conVwTb.css({bottom:v})}"innerImage"==c.O.viewerToolbar.style&&i.css({"max-width":f}),"fullWidth"==c.O.viewerToolbar.style&&i.css({width:u}),c.$E.conVwTb.css({height:j}),c.$E.vwContent.children("img").css({"max-width":u-r,"max-height":t-q}),c.$E.vwContent.children("img").css({"object-fit":"contain"}),c.viewerResizeTimerID=window.setTimeout(gb,100),c.viewerResizeTimerLastRun=(new Date).getTime()}))}function hb(a){var b=a,d=[],e=0;d.push(c.I[b]);for(var f=c.I.length,g=b+1;g<f;g++)"image"==c.I[g].kind&&c.I[g].albumID==c.I[a].albumID&&""==c.I[g].destinationURL&&(e++,d.push(c.I[g]));for(var g=0;g<b;g++)"image"==c.I[g].kind&&c.I[g].albumID==c.I[a].albumID&&""==c.I[g].destinationURL&&(e++,d.push(c.I[g]));c.O.fnThumbnailOpen(d)}function ib(a){var b=a,d=[],e=0;d[e]=new Object,d[e].href=c.I[b].responsiveURL(),d[e].title=c.I[b].title;for(var f=c.I.length,g=b+1;g<f;g++)"image"==c.I[g].kind&&c.I[g].albumID==c.I[a].albumID&&""==c.I[g].destinationURL&&(e++,d[e]=new Object,d[e].href=c.I[g].responsiveURL(),d[e].title=c.I[g].title);for(var g=0;g<b;g++)"image"==c.I[g].kind&&c.I[g].albumID==c.I[a].albumID&&""==c.I[g].destinationURL&&(e++,d[e]=new Object,d[e].href=c.I[g].responsiveURL(),d[e].title=c.I[g].title);null!=c.O.fancyBoxOptions?jQuery.fancybox(d,c.O.fancyBoxOptions):jQuery.fancybox(d,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}function jb(a){var b=null;switch(sb(c.O.colorScheme)){case"object":b=c.colorScheme_default,jQuery.extend(!0,b,c.O.colorScheme),c.colorSchemeLabel="nanogallery_colorscheme_custom_"+c.baseEltID;break;case"string":switch(c.O.colorScheme){case"none":return;case"light":b=c.colorScheme_light,c.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":b=c.colorScheme_lightBackground,c.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":b=c.colorScheme_darkRed,c.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":b=c.colorScheme_darkGreen,c.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":b=c.colorScheme_darkBlue,c.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":b=c.colorScheme_darkOrange,c.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:b=c.colorScheme_default,c.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void lb("Error in colorScheme parameter.")}var d="."+c.colorSchemeLabel+" ",e=d+".nanoGalleryNavigationbar { background:"+b.navigationbar.background+" !important; }\n";void 0!==b.navigationbar.border&&(e+=d+".nanoGalleryNavigationbar { border:"+b.navigationbar.border+" !important; }\n"),void 0!==b.navigationbar.borderTop&&(e+=d+".nanoGalleryNavigationbar { border-top:"+b.navigationbar.borderTop+" !important; }\n"),void 0!==b.navigationbar.borderBottom&&(e+=d+".nanoGalleryNavigationbar { border-bottom:"+b.navigationbar.borderBottom+" !important; }\n"),void 0!==b.navigationbar.borderRight&&(e+=d+".nanoGalleryNavigationbar { border-right:"+b.navigationbar.borderRight+" !important; }\n"),void 0!==b.navigationbar.borderLeft&&(e+=d+".nanoGalleryNavigationbar { border-left:"+b.navigationbar.borderLeft+" !important; }\n"),e+=d+".nanoGalleryNavigationbar .oneFolder  { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .separator  { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .separatorRTL  { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .setFullPageButton { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .removeFullPageButton { color:"+b.navigationbar.color+" !important; }\n",e+=d+".nanoGalleryNavigationbar .oneFolder:hover { color:"+b.navigationbar.colorHover+" !important; }\n",e+=d+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+b.navigationbar.colorHover+" !important; }\n",e+=d+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+b.navigationbar.colorHover+" !important; }\n",e+=d+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+b.navigationbar.colorHover+" !important; }\n",e+=d+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+b.navigationbar.colorHover+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+b.thumbnail.background+" !important; border:"+b.thumbnail.border+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+b.thumbnail.background+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+b.thumbnail.labelBackground+" ; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";var f=b.thumbnail.labelBackground;"transparent"==f&&(f=""),e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+b.thumbnail.titleColor+" !important; color:"+f+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+b.thumbnail.descriptionColor+" !important; Text-Shadow:"+b.thumbnail.descriptionShadow+" !important; }\n",e+=d+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+b.thumbnail.titleColor+" !important; color:"+f+" !important; }\n",c.O.paginationDots&&(e+=d+".nanoGalleryPaginationDot > .paginationItem { border:"+b.thumbnail.paginationDotBorder+" !important; background:"+b.thumbnail.paginationDotBack+" !important;}\n",e+=d+".nanoGalleryPaginationDot > .currentPage { background:"+b.thumbnail.paginationDotSelBack+" !important;}\n");var g="nanogallery_galleryfullpage_bgcolor_"+c.baseEltID;e+="."+g+".fullpage { background:"+c.O.galleryFullpageBgColor+" !important; }\n",jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass(c.colorSchemeLabel),jQuery(a).addClass(g)}function kb(a){var b=null;switch(sb(c.O.colorSchemeViewer)){case"object":b=c.colorSchemeViewer_default,jQuery.extend(!0,b,c.O.colorSchemeViewer),c.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(c.O.colorSchemeViewer){case"none":return;case"light":b=c.colorSchemeViewer_light,c.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":b=c.colorSchemeViewer_darkRed,c.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":b=c.colorSchemeViewer_darkGreen,c.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":b=c.colorSchemeViewer_darkBlue,c.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":b=c.colorSchemeViewer_darkOrange,c.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":b=c.colorSchemeViewer_dark,c.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:b=c.colorSchemeViewer_default,c.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void lb("Error in colorSchemeViewer parameter.")}var d="."+c.colorSchemeLabel+" ",e=d+".nanoGalleryViewer { background:"+b.background+" !important; }\n";e+=d+".nanoGalleryViewer .content img { border:"+b.imageBorder+" !important; box-shadow:"+b.imageBoxShadow+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar { background:"+b.barBackground+" !important; border:"+b.barBorder+" !important; color:"+b.barColor+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar .previousButton:after { color:"+b.barColor+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar .nextButton:after { color:"+b.barColor+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar .closeButton:after { color:"+b.barColor+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar .label .title { color:"+b.barColor+" !important; }\n",e+=d+".nanoGalleryViewer .toolbar .label .description { color:"+b.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass(c.colorSchemeLabel)}function lb(a,b){mb(a),null!=c.$E.conConsole&&(c.$E.conConsole.css({visibility:"visible",height:"auto"}),0==b?c.$E.conConsole.append("<p>"+a+"</p>"):c.$E.conConsole.append("<p>nanoGALLERY: "+a+" ["+c.baseEltID+"]</p>"))}function mb(a){window.console&&console.log("nanoGALLERY: "+a+" ["+c.baseEltID+"]")}function nb(){var a=jQuery(window);return vpW=a.width(),c.O.demoViewportWidth>0&&(c.O.demoViewportWidth<vpW&&(vpW=c.O.demoViewportWidth),c.O.maxWidth=vpW,jQuery(c.$E.base).css({width:c.O.maxWidth}),jQuery(c.$E.base).css({"margin-left":"auto"}),jQuery(c.$E.base).css({"margin-right":"auto"})),{l:a.scrollLeft(),t:a.scrollTop(),w:vpW,h:a.height()}}function ob(a,b){var c=nb(),d=a.offset(),e=a.outerHeight(!0),f=a.outerWidth(!0);return d.top>=c.t-b&&d.top+e<=c.t+c.h+b&&d.left>=c.l-b&&d.left+f<=c.l+c.w+b}function pb(a,b){var c=nb(),d=a.offset(),e=a.outerHeight(!0);a.outerWidth(!0);return 0==c.t&&d.top<=c.t+c.h||d.top>=c.t&&d.top+e<=c.t+c.h-b}function qb(a,b){var c=0;""==a&&(a="*"),jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c}),c++,jQuery(b).css("z-index",c)}function ub(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}this.ReloadAlbum=function(){if(""===c.O.kind)throw"Not supported for this kind.";for(var a=c.I.length,b=-1,d=0;d<a;d++)if(c.lastOpenAlbumID==c.I[d].GetID()){b=d;break}if(b==-1)throw"Current album not found.";c.O.keepSelection===!1&&(c.selectedItems=[]);for(var e=0;e<a;e++)c.O.keepSelection===!1&&(c.I[e].selected=!1),c.I[e].albumID==b&&(c.I[e].albumID=-1);switch(c.I[b].contentIsLoaded=!1,c.lastOpenAlbumID=-1,c.O.kind){case"json":return F(b,!1,-1,!1,!0);case"flickr":return I(b,!1,-1,!1,!0);case"picasa":default:return O(b,!1,-1,!1,!0)}},this.moveToNextAlbum=function(){W()},this.moveToPreviousAlbum=function(){X()},this.closeViewer=function(){return fb(!0),!1},this.minimizeToolbar=function(){return Wa(),!1},this.maximizeToolbar=function(){return Va(),!1},this.RefreshSize=function(){ea()},this.displayItem=function(a){return y(!1,a,!0)},this.paginationPreviousPage=function(){pa()},this.paginationNextPage=function(){oa()},this.paginationGotoPage=function(b){var d=c.$E.conPagin.data("galleryIdx");pb(c.$E.base,0)||a("html, body").animate({scrollTop:c.$E.base.offset().top},200),b>1&&b--,ra(d,b)},this.paginationCountPages=function(){var a=c.$E.conPagin.data("galleryIdx"),b=0;return c.pgMaxLinesPerPage>0&&(b=c.I[a].contentLength/(c.pgMaxLinesPerPage*c.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(b),n2},this.galleryCountImages=function(){return qa()},this.GetItem=function(a){if(isNaN(a))throw"index must be a number";return c.I[a]},this.GetItems=function(){return c.I},this.GetItemsIndex=function(a){for(var b=[],d=a.length,e=0;e<d;e++){if(isNaN(a[e])?index=c.I.indexOf(a[e]):index=a[e],isNaN(index))throw"This item does not exists";b.push(index)}return b},this.SetSelectedItems=function(a){for(var b=a.length,c=0;c<b;c++)null!==a[c].$elt&&xa(a[c],!0)},this.SetUnselectedItems=function(a){for(var b=a.length,c=0;c<b;c++)null!==a[c].$elt&&xa(a[c],!1)},this.GetSelectedItems=function(){return c.selectedItems},this.GetCurrentViewedItem=function(){return c.containerViewerDisplayed?c.I[c.viewerCurrentItemIdx]:null},this.GetCurrentViewedItemIdx=function(){return c.containerViewerDisplayed?c.viewerCurrentItemIdx:-1},this.Get=function(a){return c.O[a]},this.Set=function(a,b){c.O[a]=b},this.SetSelectMode=function(b){"undefined"==typeof b&&c.selectModeForce===!0&&(b=c.selectMode),b!==!0&&b!==!1&&"image"!==b&&"album"!==b||(c.selectModeForce=b!==!1,c.selectMode=b,"album"===b||"image"==b?c.$E.base.find(".nanoGalleryThumbnailContainer").each(function(){a(this).hasClass("album")&&"image"===b||!a(this).hasClass("album")&&"album"===b?a(this).addClass("unselectable"):a(this).removeClass("unselectable")}):c.$E.base.find(".nanoGalleryThumbnailContainer").removeClass("unselectable"),c.O.keepSelection!==!1&&b!==!1||this.SetUnselectedItems(c.I),"function"==typeof c.O.fnChangeSelectMode&&c.O.fnChangeSelectMode(c.selectMode))},this.GetSelectMode=function(){return c.selectMode};var c=this;c.I=[],c.O=null,c.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},c.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},c.$currentTouchedThumbnail=null,c.baseEltID=null,c.containerTags=null,c.containerNavigationbarContDisplayed=!1,c.containerViewerDisplayed=!1,c.containerThumbnailsDisplayed=!1,c.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return c.tn.labelHeight[c.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return c.tn.outerWidth[c.curNavLevel][c.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return c.tn.outerHeight[c.curNavLevel][c.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return c.tn.settings.height[c.curNavLevel][c.curWidth]},getW:function(){return c.tn.settings.width[c.curNavLevel][c.curWidth]}},getHE:function(){return"l1"==c.curNavLevel&&0!==c.tnL1HE.length?c.tnL1HE:c.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""},c.tnHE=[],c.tnL1HE=[],c.L={nbMaxTnPerRow:0},c.blackList=null,c.whiteList=null,c.albumList=null,c.galleryItemsCount=0,c.toolbarMode="std",c.playSlideshow=!1,c.playSlideshowTimerID=0,c.slideshowDelay=3e3,c.touchAutoOpenDelayTimerID=0,c.supportFullscreenAPI=!1,c.viewerIsFullscreen=!1,c.bodyOverflowInitial=null,c.i18nLang="",c.timeImgChanged=0,c.timeLastTouchStart=0,c.pgMaxNbThumbnailsPerRow=1,c.pgMaxLinesPerPage=0,c.lastOpenAlbumID=-1,c.lastLocationHash="",c.touchSelectTO=null,c.viewerImageIsChanged=!1,c.viewerResizeTimerID=-1,c.viewerResizeTimerLastRun=-1,c.viewerCurrentItemIdx=-1,c.imageSwipePosX=0,c.albumIdxToOpenOnViewerClose=-1,c.custGlobals={},c.delayedAlbumIdx=-1,c.curAlbumIdx=-1,c.delayedSetLocationHash=!1,c.viewerSwipe=null,c.isShiftPressed=!1,c.isAltPressed=!1,c.isCtrlPressed=!1,c.isMetaPressed=!1,c.selectedItems=[],c.aengine="animate",c.scrollTimeOut=0,c.maxAlbums=1e6,c.maxPhotos=1e6,c.curNavLevel="l1",c.curWidth="me",c.gallerySwipeInitDone=!1,c.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",c.CSStransformName=k(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),c.CSStransformStyle=k(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),c.CSSperspective=k(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),c.CSSbackfaceVisibilityName=k(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),c.CSStransitionName=k(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),c.CSSanimationName=k(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),c.IE=function(){if(document.documentMode)return document.documentMode;for(var a=7;a>4;a--){var b=document.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}}(),c.IOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}}(),c.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),c.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),c.openNoDelay=!1,c.startDateTime=new Date,c.toRender=[],c.picasa={url:function(){return c.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},c.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},c.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}},c.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}},c.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}},c.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}},c.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}},c.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},c.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},c.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},c.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var d=function(){function b(b,c){var d=0;d=void 0===c||null===c?a++:c,this.GetID=function(){return d},this.title=b,this.description="",this.src="",this.width=0,this.height=0,this.destinationURL="",this.kind="",this.author="",this.thumbFullWidth=0,this.thumbFullHeight=0,this.thumbLabelWidth=0,this.thumbLabelHeight=0,this.thumbSizes={},this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.eltTransform={},this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.$elt=null,this.$Elts=[]}var a=1;return b.get_nextId=function(){return a},b.prototype={$getElt:function(a,b){return void 0!==this.$Elts[a]&&1==!b?this.$Elts[a]:(this.$Elts[a]=this.$elt.find(a),this.$Elts[a])},thumbSetImgHeight:function(a){for(var b=["xs","sm","me","la","xl"],d=0;d<b.length;d++)c.tn.settings.height.l1[b[d]]==c.tn.settings.getH()&&c.tn.settings.width.l1[b[d]]==c.tn.settings.getW()&&(this.thumbs.height.l1[b[d]]=a);for(var d=0;d<b.length;d++)c.tn.settings.height.lN[b[d]]==c.tn.settings.getH()&&c.tn.settings.width.l1[b[d]]==c.tn.settings.getW()&&(this.thumbs.height.lN[b[d]]=a)},thumbSetImgWidth:function(a){for(var b=["xs","sm","me","la","xl"],d=0;d<b.length;d++)c.tn.settings.height.l1[b[d]]==c.tn.settings.getH()&&c.tn.settings.width.l1[b[d]]==c.tn.settings.getW()&&(this.thumbs.width.l1[b[d]]=a);for(var d=0;d<b.length;d++)c.tn.settings.height.lN[b[d]]==c.tn.settings.getH()&&c.tn.settings.width.l1[b[d]]==c.tn.settings.getW()&&(this.thumbs.width.lN[b[d]]=a)},thumbImg:function(){var a={src:"",width:0,height:0};return"dummydummydummy"==this.title?(a.src=c.emptyGif,a):(a.src=this.thumbs.url[c.curNavLevel][c.curWidth],a.width=this.thumbs.width[c.curNavLevel][c.curWidth],a.height=this.thumbs.height[c.curNavLevel][c.curWidth],a)},responsiveURL:function(){var a="";switch(c.O.kind){case"":a=this.src;break;case"flickr":a=this.src;break;case"picasa":default:a=this.src}return a}},b}();this.Initiate=function(a,b){"use strict";if(c.O=b,c.O.thumbnailLabel.get=function(a){
return"l1"==c.curNavLevel&&void 0!==c.O.thumbnailL1Label&&void 0!==c.O.thumbnailL1Label[a]?c.O.thumbnailL1Label[a]:c.O.thumbnailLabel[a]},c.O.thumbnailLabel.set=function(a,b){"l1"==c.curNavLevel&&void 0!==c.O.thumbnailL1Label&&void 0!==c.O.thumbnailL1Label[a]?c.O.thumbnailL1Label[a]=b:c.O.thumbnailLabel[a]=b},c.$E.base=jQuery(a),c.baseEltID=c.$E.base.attr("id"),c.bodyOverflowInitial=jQuery("body").css("overflow"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.replaceAll=function(a,b){return void 0===b?this.toString():this.split(a).join(b)},"object"==sb(jQuery.velocity)?c.aengine="velocity":"object"==sb(jQuery.transit)&&(c.aengine="transition"),jQuery(a).addClass("nanogallery_theme_"+c.O.theme),jb(a),c.O.thumbnailLabel.get("hideIcons")){var d=".nanogallery_thumbnails_icons_off ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";f+=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_icons_off")}if(c.O.galleryToolbarHideIcons){var d=".nanogallery_breadcrumb_icons_off ",f=d+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";f+=d+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off")}if("right"==c.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_right ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right")}if("center"==c.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_center ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center")}if("left"==c.O.thumbnailLabel.get("align")){var d=".nanogallery_thumbnails_label_align_left ",f=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+f+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left")}c.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a),c.$E.conNavBCon.hide(),c.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(c.$E.conNavBCon);var g="";switch(c.O.RTL&&(g='style="text-align:right;direction:rtl;"'),c.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+g+"></div>").appendTo(c.$E.conNavB),c.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(a),c.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a),c.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(c.$E.conTnParent),c.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a),c.O.thumbnailAlignment){case"left":c.$E.conTnParent.css({"text-align":"left"}),c.$E.conNavBCon.css({"margin-left":0});break;case"right":c.$E.conTnParent.css({"text-align":"right"}),c.$E.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var i=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+'"></div>').appendTo("body"),j=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(i);if(c.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(j),c.O.supportIE8)try{!window.addEventListener&&function(a,b,c,d,e,f,g){a[d]=b[d]=c[d]=function(a,b){var c=this;g.unshift([c,a,b,function(a){a.currentTarget=c,a.preventDefault=function(){a.returnValue=!1},a.stopPropagation=function(){a.cancelBubble=!0},a.target=a.srcElement||c,b.call(c,a)}]),this.attachEvent("on"+a,g[0][3])},a[e]=b[e]=c[e]=function(a,b){for(var d,c=0;d=g[c];++c)if(d[0]==this&&d[1]==a&&d[2]==b)return this.detachEvent("on"+a,g.splice(c,1)[0][3])},a[f]=b[f]=c[f]=function(a){return this.fireEvent("on"+a.type,a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(a){return h(),!1}else if(c.IE<=8)return h(),!1;q();var k="";c.O.RTL&&(k='style="direction:rtl;"'),c.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(c.O.paginationDots?"Dot":"")+'" '+k+"></div>").appendTo(c.$E.conTnParent),c.$E.conPagin.hide();new p(c.$E.conTn[0]);w(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?c.supportFullscreenAPI=!0:mb("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),z(),c.L.nbMaxTnPerRow=ha(),c.O.viewerFullscreen&&c.O.openOnStart.indexOf("/")>0&&ngscreenfull.request(),"loadData"!=c.O.lazyBuild&&l();var n=0;jQuery(window).resize(function(){n&&clearTimeout(n),c.containerViewerDisplayed?gb():n=setTimeout(function(){var a=s();c.curAlbumIdx==-1||c.tn.settings.getH()==c.tn.settings.height[c.curNavLevel][a]&&c.tn.settings.getW()==c.tn.settings.width[c.curNavLevel][a]?ea():(c.curWidth=a,ra(c.curAlbumIdx,0))},50)}),c.$E.base.on("scroll",function(){e()}),jQuery(window).on("scroll",function(){e()})},function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var sb=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},vb=function(a,b,c){a=a.replace(/^\s*|\s*$/,""),a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var d=Math.round(256*b)*(c?-1:1),e=a.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),f=e&&null!=e[4]?e[4]:null,g=e?[e[1],e[2],e[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return e?"rgb"+(null!==f?"a":"")+"("+Math[c?"max":"min"](parseInt(g[0],10)+d,c?0:255)+", "+Math[c?"max":"min"](parseInt(g[1],10)+d,c?0:255)+", "+Math[c?"max":"min"](parseInt(g[2],10)+d,c?0:255)+(null!==f?", "+f:"")+")":["#",yb(Math[c?"max":"min"](parseInt(g[0],10)+d,c?0:255).toString(16),2),yb(Math[c?"max":"min"](parseInt(g[1],10)+d,c?0:255).toString(16),2),yb(Math[c?"max":"min"](parseInt(g[2],10)+d,c?0:255).toString(16),2)].join("")},wb=function(a,b){return vb(a,b,!1)},xb=function(a,b){return vb(a,b,!0)},yb=function(a,b){var c="0";for(a+="";a.length<b;)a=c+a;return a}}jQuery.nanoGallery=function(b,c){var e=this;e.$e=a(b),e.e=b,e.$e.data("nanoGallery",e),e.init=function(){e.options=a.extend(!0,{},a.nanoGallery.defaultOptions,c),e.nG=new d,e.nG.Initiate(e.e,e.options)},e.test=function(){},e.init()},jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:!1,picasaUseUrlCrossDomain:!0,flickrSkipOriginal:!0,galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",galleryEnableKeyboard:!1,galleryRenderStep:10,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:!1,showCheckboxes:!0,checkboxStyle:"left:15px; top:15px;",keepSelection:!1,jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:!1,paginationSwipe:!0,maxWidth:0,viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:!0,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",thumbnailOpenImage:!0,breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnThumbnailOpen:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!0,demoViewportWidth:0,slideshowDelay:3e3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",albumMax:0,lazyBuild:"none",lazyBuildTreshold:150,debugMode:!1,i18n:{breadcrumbHome:"Albums",breadcrumbHome_FR:"Albums",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},jQuery.fn.nanoGallery=function(b,c,d){if("undefined"==typeof a(this).data("nanoGallery"))return this.each(function(){new a.nanoGallery(this,b)});switch(b){case"reload":return a(this).data("nanoGallery").nG.ReloadAlbum(),a(this);case"refreshSize":return a(this).data("nanoGallery").nG.RefreshSize(),a(this);case"getSelectedItems":return a(this).data("nanoGallery").nG.GetSelectedItems();case"selectItems":a(this).data("nanoGallery").nG.SetSelectedItems(c);break;case"unselectItems":a(this).data("nanoGallery").nG.SetUnselectedItems(c);break;case"setSelectMode":c!==!0&&c!==!1&&"image"!==c&&"album"!==c||a(this).data("nanoGallery").nG.SetSelectMode(c);break;case"getSelectMode":return a(this).data("nanoGallery").nG.GetSelectMode();case"getItem":return a(this).data("nanoGallery").nG.GetItem(c);case"getItems":return a(this).data("nanoGallery").nG.GetItems();case"getItemsIndex":return a(this).data("nanoGallery").nG.GetItemsIndex(c);case"option":if("undefined"==typeof d)return a(this).data("nanoGallery").nG.Get(c);a(this).data("nanoGallery").nG.Set(c,d),"demoViewportWidth"==c&&a(window).trigger("resize");break;case"destroy":a(this).data("nanoGallery").nG.$E.base.text(""),a(this).removeData();break;case"closeViewer":a(this).data("nanoGallery").nG.closeViewer();break;case"minimizeToolbar":a(this).data("nanoGallery").nG.minimizeToolbar();break;case"maximizeToolbar":a(this).data("nanoGallery").nG.maximizeToolbar();break;case"displayItem":a(this).data("nanoGallery").nG.displayItem(c);break;case"paginationPreviousPage":a(this).data("nanoGallery").nG.paginationPreviousPage();break;case"paginationNextPage":a(this).data("nanoGallery").nG.paginationNextPage();break;case"paginationGotoPage":a(this).data("nanoGallery").nG.paginationGotoPage(c);break;case"paginationCountPages":return a(this).data("nanoGallery").nG.paginationCountPages();case"getCurrentViewedItem":return a(this).data("nanoGallery").nG.GetCurrentViewedItem();case"getCurrentViewedItemIdx":return a(this).data("nanoGallery").nG.GetCurrentViewedItemIdx();case"moveToNextAlbum":return a(this).data("nanoGallery").nG.moveToNextAlbum();case"moveToPreviousAlbum":return a(this).data("nanoGallery").nG.moveToPreviousAlbum();case"galleryCountImages":return a(this).data("nanoGallery").nG.galleryCountImages()}return a(this)}}),function(a,b){function m(a,b,c){var d=h[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function n(b){var c=f(),d=c._rgba=[];return b=b.toLowerCase(),l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i)return f=c[j](i),c[g[j].cache]=f[g[j].cache],d=c._rgba=f._rgba,!1}),d.length?("0,0,0,0"===d.join()&&a.extend(d,k.transparent),c):k[b]}function o(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var k,c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=f.support={},j=a("<p>")[0],l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)",i.rgba=j.style.backgroundColor.indexOf("rgba")>-1,l(g,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b)return this._rgba=[null,null,null,null],this;(c.jquery||c.nodeType)&&(c=a(c).css(d),d=b);var i=this,j=a.type(c),o=this._rgba=[];return d!==b&&(c=[c,d,e,h],j="array"),"string"===j?this.parse(n(c)||k._default):"array"===j?(l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)}),this):"object"===j?(c instanceof f?l(g,function(a,b){c[b.cache]&&(i[b.cache]=c[b.cache].slice())}):l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if("alpha"===a||null==c[a])return;i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,!0)}),i[e]&&a.inArray(null,i[e].slice(0,3))<0&&(i[e][3]=1,d.from&&(i._rgba=d.from(i[e])))}),this):void 0},is:function(a){var b=f(a),c=!0,d=this;return l(g,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],l(e.props,function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]})),c}),c},_space:function(){var a=[],b=this;return l(g,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=0===this.alpha()?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();return c=c[e.cache],l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};null!==g&&(null===f?k[e]=g:(i.mod&&(g-f>i.mod/2?f+=i.mod:f-g>i.mod/2&&(f-=i.mod)),k[e]=m((g-f)*b+f,d)))}),this[d](k)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var k,l,b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=.5*i;return k=g===f?0:b===f?60*(c-d)/h+360:c===f?60*(d-b)/h+120:60*(b-c)/h+240,l=0===h?0:j<=.5?h/i:h/(2-i),[Math.round(k)%360,l,j,null==e?1:e]},g.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f;return[Math.round(255*o(g,f,b+1/3)),Math.round(255*o(g,f,b)),Math.round(255*o(g,f,b-1/3)),e]},l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){if(i&&!this[h]&&(this[h]=i(this._rgba)),c===b)return this[h].slice();var d,e=a.type(c),k="array"===e||"object"===e?c:arguments,n=this[h].slice();return l(g,function(a,b){var c=k["object"===e?a:b.idx];null==c&&(c=n[b.idx]),n[b.idx]=m(c,b)}),j?(d=f(j(n)),d[h]=n,d):f(n)},l(g,function(b,e){f.fn[b]||(f.fn[b]=function(f){var k,g=a.type(f),h="alpha"===b?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx];return"undefined"===g?j:("function"===g&&(f=f.call(this,j),g=a.type(f)),null==f&&e.empty?this:("string"===g&&(k=d.exec(f),k&&(f=j+parseFloat(k[2])*("+"===k[1]?1:-1))),i[e.idx]=f,this[h](i)))})})}),f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if("transparent"!==d&&("string"!==a.type(d)||(e=n(d)))){if(d=f(e||d),!i.rgba&&1!==d._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(a){}d=d.blend(h&&"transparent"!==h?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(a){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=f(b.elem,c),b.end=f(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},f.hook(c),a.cssHooks.borderColor={expand:function(a){var b={};return l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function a(){}function e(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var b=a.prototype,c=this,d=c.ngEventEmitter;b.getListeners=function(b){var d,e,c=this._getEvents();if("object"==typeof b){d={};for(e in c)c.hasOwnProperty(e)&&b.test(e)&&(d[e]=c[e])}else d=c[b]||(c[b]=[]);return d},b.flattenListeners=function(b){var d,c=[];for(d=0;d<b.length;d+=1)c.push(b[d].listener);return c},b.getListenersAsObject=function(b){var d,c=this.getListeners(b);return c instanceof Array&&(d={},d[b]=c),d||c},b.addListener=function(b,c){var g,d=this.getListenersAsObject(b),f="object"==typeof c;for(g in d)d.hasOwnProperty(g)&&e(d[g],c)===-1&&d[g].push(f?c:{listener:c,once:!1});return this},b.on=f("addListener"),b.addOnceListener=function(b,c){return this.addListener(b,{listener:c,once:!0})},b.once=f("addOnceListener"),b.defineEvent=function(b){return this.getListeners(b),this},b.defineEvents=function(b){for(var c=0;c<b.length;c+=1)this.defineEvent(b[c]);return this},b.removeListener=function(b,c){var f,g,d=this.getListenersAsObject(b);for(g in d)d.hasOwnProperty(g)&&(f=e(d[g],c),f!==-1&&d[g].splice(f,1));return this},b.off=f("removeListener"),b.addListeners=function(b,c){return this.manipulateListeners(!1,b,c)},b.removeListeners=function(b,c){return this.manipulateListeners(!0,b,c)},b.manipulateListeners=function(b,c,d){var e,f,g=b?this.removeListener:this.addListener,h=b?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof RegExp)for(e=d.length;e--;)g.call(this,c,d[e]);else for(e in c)c.hasOwnProperty(e)&&(f=c[e])&&("function"==typeof f?g.call(this,e,f):h.call(this,e,f));return this},b.removeEvent=function(b){var e,c=typeof b,d=this._getEvents();if("string"===c)delete d[b];else if("object"===c)for(e in d)d.hasOwnProperty(e)&&b.test(e)&&delete d[e];else delete this._events;return this},b.removeAllListeners=f("removeEvent"),b.emitEvent=function(b,c){var e,f,g,h,d=this.getListenersAsObject(b);for(g in d)if(d.hasOwnProperty(g))for(f=d[g].length;f--;)e=d[g][f],e.once===!0&&this.removeListener(b,e.listener),h=e.listener.apply(this,c||[]),h===this._getOnceReturnValue()&&this.removeListener(b,e.listener);return this},b.trigger=f("emitEvent"),b.emit=function(b){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,c)},b.setOnceReturnValue=function(b){return this._onceReturnValue=b,this},b._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},b._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return c.ngEventEmitter=d,a},"function"==typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.ngEventEmitter=a}.call(this),function(a){function d(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=d(a);c.handleEvent.call(c,b)}:function(){var b=d(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var e=function(){};b.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:c,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["ngEventEmitter/ngEventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.ngimagesLoaded=b(a,a.ngEventEmitter,a.eventie)}(window,function(b,c,d){function h(a,b){for(var c in b)a[c]=b[c];return a}function j(a){return"[object Array]"===i.call(a)}function k(a){var b=[];if(j(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function l(a,b,c){if(!(this instanceof l))return new l(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=k(a),this.options=h({},this.options),"function"==typeof b?c=b:h(this.options,b),c&&this.on("always",c),this.getImages(),e&&(this.jqDeferred=new e.Deferred);var d=this;setTimeout(function(){d.check()})}function m(a){this.img=a}function o(a){this.src=a,n[a]=this}var e=b.jQuery,f=b.console,g="undefined"!=typeof f,i=Object.prototype.toString;l.prototype=new c,l.prototype.options={},l.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;f<g;f++){var h=e[f];this.addImage(h)}}},l.prototype.addImage=function(a){var b=new m(a);this.images.push(b)},l.prototype.check=function(){function d(d,e){return a.options.debug&&g&&f.log("confirm",d,e),a.progress(d),b++,b===c&&a.complete(),!0}var a=this,b=0,c=this.images.length;if(this.hasAnyBroken=!1,!c)return void this.complete();for(var e=0;e<c;e++){var h=this.images[e];h.on("confirm",d),h.check()}},l.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},l.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},e&&(e.fn.ngimagesLoaded=function(a,b){var c=new l(this,a,b);return c.jqDeferred.promise(e(this))}),m.prototype=new c,m.prototype.check=function(){var a=n[this.img.src]||new o(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},m.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return o.prototype=new c,o.prototype.check=function(){if(!this.isChecked){var a=new Image;d.bind(a,"load",this),d.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},o.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},o.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},o.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},o.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},o.prototype.unbindProxyEvents=function(a){d.unbind(a.target,"load",this),d.unbind(a.target,"error",this)},l}),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;d<b;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),document.addEventListener(c.fullscreenchange,function(a){d.onchange.call(d,a)}),document.addEventListener(c.fullscreenerror,function(a){d.onerror.call(d,a)}),void(a?module.exports=d:window.ngscreenfull=d)):void(a?module.exports=!1:window.ngscreenfull=!1)}();